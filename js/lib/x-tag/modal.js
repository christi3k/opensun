(function(){var a=/OS [1-4]_\d like Mac OS X/i.test(navigator.userAgent),b=/Android 2.\d.+AppleWebKit/.test(navigator.userAgent),c=/Android 2\.3.+AppleWebKit/.test(navigator.userAgent);if(b){var d=document.createElement("meta");d.name="viewport",d.content="width=device-width; initial-scale=1.0; maximum-scale=1.0; minimum-scale=1.0; user-scalable=0;",document.head.appendChild(d)}window.addEventListener("keyup",function(a){a.keyCode==27&&xtag.query(document,"x-modal").forEach(function(a){a.getAttribute("data-modal-hidden")||xtag.fireEvent(a,"modalhide")})});if(a||b)console.log("OLD"),window.addEventListener("scroll",function(a){var b=xtag.query(document,"body > x-modal");b.forEach(function(a){a.style.top=window.pageYOffset+window.innerHeight*.5+"px"})});xtag.register("x-modal",{mixins:["request"],onCreate:function(){this.setAttribute("tabindex",0)},onInsert:function(){if(a||b)this.style.top=window.pageYOffset+window.innerHeight*.5+"px"},events:{"modalhide:preventable":function(){this.setAttribute("data-modal-hidden",!0)}}})})()