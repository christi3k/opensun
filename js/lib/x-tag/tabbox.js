xtag.register("x-tabbox",{events:{"tap:delegate(x-tab)":function(a){this.xtag.selectTab()},"keydown:delegate(x-tab)":function(a){switch(a.keyCode){case 13:this.xtag.selectTab();break;case 37:this.parentNode.xtag.previousTab();break;case 39:this.parentNode.xtag.nextTab()}}}}),xtag.register("x-tabs",{methods:{getSelectedIndex:function(){var a=xtag.query(this,"x-tab");return a.indexOf(this.xtag.getSelectedTab())},getSelectedTab:function(){return xtag.query(this,'x-tab[selected="true"]')[0]},nextTab:function(){var a=this.xtag.getSelectedTab();a&&(a.nextElementSibling||this.firstElementChild).xtag.selectTab()},previousTab:function(){var a=this.xtag.getSelectedTab();a&&(a.previousElementSibling||this.lastElementChild).xtag.selectTab()}}}),xtag.register("x-tab",{onCreate:function(){this.setAttribute("tabindex",0)},methods:{selectTab:function(){this.focus();var a=xtag.query(this.parentNode,"x-tab"),b=a.indexOf(this);a.forEach(function(a){a.setAttribute("selected",a==this?!0:"")},this),xtag.query(this.parentNode.parentNode,"x-tabpanels > *").forEach(function(a,c,d){a.setAttribute("selected",a==d[b]?!0:"")})}}})