window.Platform={};var logFlags={};!function(){function a(a){if(this._element=a,a.className!=this._classCache){if(this._classCache=a.className,!this._classCache)return;var b,c=this._classCache.replace(/^\s+|\s+$/g,"").split(/\s+/);for(b=0;b<c.length;b++)g.call(this,c[b])}}function b(a,b){a.className=b.join(" ")}function c(a,b,c){Object.defineProperty?Object.defineProperty(a,b,{get:c}):a.__defineGetter__(b,c)}if(!("undefined"==typeof window.Element||"classList"in document.documentElement)){var d=Array.prototype,e=d.indexOf,f=d.slice,g=d.push,h=d.splice,i=d.join;a.prototype={add:function(a){this.contains(a)||(g.call(this,a),b(this._element,f.call(this,0)))},contains:function(a){return-1!==e.call(this,a)},item:function(a){return this[a]||null},remove:function(a){var c=e.call(this,a);-1!==c&&(h.call(this,c,1),b(this._element,f.call(this,0)))},toString:function(){return i.call(this," ")},toggle:function(a){-1===e.call(this,a)?this.add(a):this.remove(a)}},window.DOMTokenList=a,c(Element.prototype,"classList",function(){return new a(this)})}}();var SideTable;if("undefined"!=typeof WeakMap&&navigator.userAgent.indexOf("Firefox/")<0?SideTable=WeakMap:function(){var a=Object.defineProperty,b=Object.hasOwnProperty,c=(new Date).getTime()%1e9;SideTable=function(){this.name="__st"+(1e9*Math.random()>>>0)+(c++ +"__")},SideTable.prototype={set:function(b,c){a(b,this.name,{value:c,writable:!0})},get:function(a){return b.call(a,this.name)?a[this.name]:void 0},"delete":function(a){this.set(a,void 0)}}}(),function(a){function b(a){u.push(a),t||(t=!0,q(d))}function c(a){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(a)||a}function d(){t=!1;var a=u;u=[],a.sort(function(a,b){return a.uid_-b.uid_});var b=!1;a.forEach(function(a){var c=a.takeRecords();e(a),c.length&&(a.callback_(c,a),b=!0)}),b&&d()}function e(a){a.nodes_.forEach(function(b){var c=p.get(b);c&&c.forEach(function(b){b.observer===a&&b.removeTransientObservers()})})}function f(a,b){for(var c=a;c;c=c.parentNode){var d=p.get(c);if(d)for(var e=0;e<d.length;e++){var f=d[e],g=f.options;if(c===a||g.subtree){var h=b(g);h&&f.enqueue(h)}}}}function g(a){this.callback_=a,this.nodes_=[],this.records_=[],this.uid_=++v}function h(a,b){this.type=a,this.target=b,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function i(a){var b=new h(a.type,a.target);return b.addedNodes=a.addedNodes.slice(),b.removedNodes=a.removedNodes.slice(),b.previousSibling=a.previousSibling,b.nextSibling=a.nextSibling,b.attributeName=a.attributeName,b.attributeNamespace=a.attributeNamespace,b.oldValue=a.oldValue,b}function j(a,b){return w=new h(a,b)}function k(a){return x?x:(x=i(w),x.oldValue=a,x)}function l(){w=x=void 0}function m(a){return a===x||a===w}function n(a,b){return a===b?a:x&&m(a)?x:null}function o(a,b,c){this.observer=a,this.target=b,this.options=c,this.transientObservedNodes=[]}var p=new SideTable,q=window.msSetImmediate;if(!q){var r=[],s=String(Math.random());window.addEventListener("message",function(a){if(a.data===s){var b=r;r=[],b.forEach(function(a){a()})}}),q=function(a){r.push(a),window.postMessage(s,"*")}}var t=!1,u=[],v=0;g.prototype={observe:function(a,b){if(a=c(a),!b.childList&&!b.attributes&&!b.characterData||b.attributeOldValue&&!b.attributes||b.attributeFilter&&b.attributeFilter.length&&!b.attributes||b.characterDataOldValue&&!b.characterData)throw new SyntaxError;var d=p.get(a);d||p.set(a,d=[]);for(var e,f=0;f<d.length;f++)if(d[f].observer===this){e=d[f],e.removeListeners(),e.options=b;break}e||(e=new o(this,a,b),d.push(e),this.nodes_.push(a)),e.addListeners()},disconnect:function(){this.nodes_.forEach(function(a){for(var b=p.get(a),c=0;c<b.length;c++){var d=b[c];if(d.observer===this){d.removeListeners(),b.splice(c,1);break}}},this),this.records_=[]},takeRecords:function(){var a=this.records_;return this.records_=[],a}};var w,x;o.prototype={enqueue:function(a){var c=this.observer.records_,d=c.length;if(c.length>0){var e=c[d-1],f=n(e,a);if(f)return c[d-1]=f,void 0}else b(this.observer);c[d]=a},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(a){var b=this.options;b.attributes&&a.addEventListener("DOMAttrModified",this,!0),b.characterData&&a.addEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.addEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(a){var b=this.options;b.attributes&&a.removeEventListener("DOMAttrModified",this,!0),b.characterData&&a.removeEventListener("DOMCharacterDataModified",this,!0),b.childList&&a.removeEventListener("DOMNodeInserted",this,!0),(b.childList||b.subtree)&&a.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(a){if(a!==this.target){this.addListeners_(a),this.transientObservedNodes.push(a);var b=p.get(a);b||p.set(a,b=[]),b.push(this)}},removeTransientObservers:function(){var a=this.transientObservedNodes;this.transientObservedNodes=[],a.forEach(function(a){this.removeListeners_(a);for(var b=p.get(a),c=0;c<b.length;c++)if(b[c]===this){b.splice(c,1);break}},this)},handleEvent:function(a){switch(a.stopImmediatePropagation(),a.type){case"DOMAttrModified":var b=a.attrName,c=a.relatedNode.namespaceURI,d=a.target,e=new j("attributes",d);e.attributeName=b,e.attributeNamespace=c;var g=a.attrChange===MutationEvent.ADDITION?null:a.prevValue;f(d,function(a){return!a.attributes||a.attributeFilter&&a.attributeFilter.length&&-1===a.attributeFilter.indexOf(b)&&-1===a.attributeFilter.indexOf(c)?void 0:a.attributeOldValue?k(g):e});break;case"DOMCharacterDataModified":var d=a.target,e=j("characterData",d),g=a.prevValue;f(d,function(a){return a.characterData?a.characterDataOldValue?k(g):e:void 0});break;case"DOMNodeRemoved":this.addTransientObserver(a.target);case"DOMNodeInserted":var h,i,d=a.relatedNode,m=a.target;"DOMNodeInserted"===a.type?(h=[m],i=[]):(h=[],i=[m]);var n=m.previousSibling,o=m.nextSibling,e=j("childList",d);e.addedNodes=h,e.removedNodes=i,e.previousSibling=n,e.nextSibling=o,f(d,function(a){return a.childList?e:void 0})}l()}},a.JsMutationObserver=g}(this),!window.MutationObserver&&(window.MutationObserver=window.WebKitMutationObserver||window.JsMutationObserver,!MutationObserver))throw new Error("no mutation observer support");!function(a){function b(b,f){var g=f||{};if(!b)throw new Error("Name argument must not be empty");if(g.name=b,!g.prototype)throw new Error("Options missing required prototype property");return g.lifecycle=g.lifecycle||{},g.ancestry=c(g.extends),d(g),e(g),k(g.prototype),m(b,g),g.ctor=n(g),g.ctor.prototype=g.prototype,g.prototype.constructor=g.ctor,a.ready&&a.upgradeAll(document),g.ctor}function c(a){var b=s[a];return b?c(b.extends).concat([b]):[]}function d(a){for(var b,c=a.extends,d=0;b=a.ancestry[d];d++)c=b.is&&b.tag;a.tag=c||a.name,c&&(a.is=a.name)}function e(a){if(!Object.__proto__){var b=HTMLElement.prototype;if(a.is){var c=document.createElement(a.tag);b=Object.getPrototypeOf(c)}}a.native=b}function f(a){return g(t(a.tag),a)}function g(b,c){return c.is&&b.setAttribute("is",c.is),h(b,c),b.__upgraded__=!0,a.upgradeSubtree(b),j(b),b}function h(a,b){Object.__proto__?a.__proto__=b.prototype:(i(a,b.prototype,b.native),a.__proto__=b.prototype)}function i(a,b,c){for(var d={},e=b;e!==c&&e!==HTMLUnknownElement.prototype;){for(var f,g=Object.getOwnPropertyNames(e),h=0;f=g[h];h++)d[f]||(Object.defineProperty(a,f,Object.getOwnPropertyDescriptor(e,f)),d[f]=1);e=Object.getPrototypeOf(e)}}function j(a){a.readyCallback&&a.readyCallback()}function k(a){var b=a.setAttribute;a.setAttribute=function(a,c){l.call(this,a,c,b)};var c=a.removeAttribute;a.removeAttribute=function(a,b){l.call(this,a,b,c)}}function l(a,b,c){var d=this.getAttribute(a);c.apply(this,arguments),this.attributeChangedCallback&&this.getAttribute(a)!==d&&this.attributeChangedCallback(a,d)}function m(a,b){s[a]=b}function n(a){return function(){return f(a)}}function o(a){var b=s[a];return b?new b.ctor:t(a)}function p(a){if(!a.__upgraded__&&a.nodeType===Node.ELEMENT_NODE){var b=a.getAttribute("is")||a.localName,c=s[b];return c&&g(a,c)}}function q(b){var c=u.call(this,b);return a.upgradeAll(c),c}if(a||(a=window.CustomElements={flags:{}}),a.hasNative=(document.webkitRegister||document.register)&&"native"===a.flags.register,a.hasNative){document.register=document.register||document.webkitRegister;var r=function(){};a.registry={},a.upgradeElement=r}else{var s={},t=document.createElement.bind(document),u=Node.prototype.cloneNode;document.register=b,document.createElement=o,Node.prototype.cloneNode=q,a.registry=s,a.upgrade=p}}(window.CustomElements),function(a){function b(a,c,d){var e=a.firstElementChild;if(!e)for(e=a.firstChild;e&&e.nodeType!==Node.ELEMENT_NODE;)e=e.nextSibling;for(;e;)c(e,d)!==!0&&b(e,c,d),e=e.nextElementSibling;return null}function c(a,d){b(a,function(a){return d(a)?!0:(a.webkitShadowRoot&&c(a.webkitShadowRoot,d),void 0)}),a.webkitShadowRoot&&c(a.webkitShadowRoot,d)}function d(a){return g(a)?(h(a),!0):(i(a),void 0)}function e(a){c(a,function(a){return d(a)?!0:void 0})}function f(a){return d(a)||e(a)}function g(b){if(!b.__upgraded__&&b.nodeType===Node.ELEMENT_NODE){var c=b.getAttribute("is")||b.localName,d=a.registry[c];if(d)return logFlags.dom&&console.group("upgrade:",b.localName),a.upgrade(b),logFlags.dom&&console.groupEnd(),!0}}function h(a){i(a),l(a)&&c(a,function(a){i(a)})}function i(a){(a.insertedCallback||a.__upgraded__&&logFlags.dom)&&(logFlags.dom&&console.group("inserted:",a.localName),l(a)&&(a.__inserted=(a.__inserted||0)+1,a.__inserted<1&&(a.__inserted=1),a.__inserted>1?logFlags.dom&&console.warn("inserted:",a.localName,"insert/remove count:",a.__inserted):a.insertedCallback&&(logFlags.dom&&console.log("inserted:",a.localName),a.insertedCallback())),logFlags.dom&&console.groupEnd())}function j(a){k(a),c(a,function(a){k(a)})}function k(a){(a.removedCallback||a.__upgraded__&&logFlags.dom)&&(logFlags.dom&&console.log("removed:",a.localName),l(a)||(a.__inserted=(a.__inserted||0)-1,a.__inserted>0&&(a.__inserted=0),a.__inserted<0?logFlags.dom&&console.warn("removed:",a.localName,"insert/remove count:",a.__inserted):a.removedCallback&&a.removedCallback()))}function l(a){for(var b=a;b;){if(b==a.ownerDocument)return!0;b=b.parentNode||b.host}}function m(a){a.webkitShadowRoot&&!a.webkitShadowRoot.__watched&&(logFlags.dom&&console.log("watching shadow-root for: ",a.localName),r(a.webkitShadowRoot),a.webkitShadowRoot.__watched=!0)}function n(a){m(a),c(a,function(){m(a)})}function o(a){switch(a.localName){case"style":case"script":case"template":case void 0:return!0}}function p(a){if(logFlags.dom){var b=a[0];if(b&&"childList"===b.type&&b.addedNodes&&b.addedNodes){for(var c=b.addedNodes[0];c&&c!==document&&!c.host;)c=c.parentNode;var d=c&&(c.URL||c._URL||c.host&&c.host.localName)||"";d=d.split("/?").shift().split("/").pop()}console.group("mutations (%d) [%s]",a.length,d||"")}a.forEach(function(a){"childList"===a.type&&(v(a.addedNodes,function(a){o(a)||f(a)}),v(a.removedNodes,function(a){o(a)||j(a)}))}),logFlags.dom&&console.groupEnd()}function q(){p(u.takeRecords())}function r(a){u.observe(a,{childList:!0,subtree:!0})}function s(a){r(a)}function t(a){logFlags.dom&&console.group("upgradeDocument: ",(a.URL||a._URL||"").split("/").pop()),f(a),logFlags.dom&&console.groupEnd()}var u=new MutationObserver(p),v=Array.prototype.forEach.call.bind(Array.prototype.forEach);a.watchShadow=m,a.watchAllShadows=n,a.upgradeAll=f,a.upgradeSubtree=e,a.observeDocument=s,a.upgradeDocument=t,a.takeRecords=q}(window.CustomElements),function(){function parseElementElement(a){var b={name:"","extends":null};takeAttributes(a,b);var c=HTMLElement.prototype;if(b.extends){var d=document.createElement(b.extends);c=d.__proto__||Object.getPrototypeOf(d)}b.prototype=Object.create(c),a.options=b;var e=a.querySelector('script:not([type]),script[type="text/javascript"],scripts');e&&executeComponentScript(e.textContent,a,b.name);var f=document.register(b.name,b);a.ctor=f;var g=a.getAttribute("constructor");g&&(window[g]=f)}function takeAttributes(a,b){for(var c in b){var d=a.attributes[c];d&&(b[c]=d.value)}}function executeComponentScript(inScript,inContext,inName){context=inContext;var owner=context.ownerDocument,url=owner._URL||owner.URL||owner.impl&&(owner.impl._URL||owner.impl.URL),match=url.match(/.*\/([^.]*)[.]?.*$/);if(match){var name=match[1];url+=name!=inName?":"+inName:""}var code="__componentScript('"+inName+"', function(){"+inScript+"});"+"\n//# sourceURL="+url+"\n";eval(code)}function mixin(a,b){a=a||{};try{Object.getOwnPropertyNames(b).forEach(function(c){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)})}catch(c){}return a}var HTMLElementElement=function(a){return a.register=HTMLElementElement.prototype.register,parseElementElement(a),a};HTMLElementElement.prototype={register:function(a){a&&(this.options.lifecycle=a.lifecycle,a.prototype&&mixin(this.options.prototype,a.prototype))}};var context;window.__componentScript=function(a,b){b.call(context)},window.HTMLElementElement=HTMLElementElement}(),function(a){function b(a){return d(a,i)}function c(a){return d(a,j)}function d(a,b){return"link"===a.localName&&a.getAttribute("rel")===b}function e(a){return"script"===a.localName}function f(a,b){var c=document.implementation.createHTMLDocument(i);c._URL=b;var d=c.createElement("base");return d.setAttribute("href",document.baseURI),c.head.appendChild(d),c.body.innerHTML=a,window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(c),c}a||(a=window.HTMLImports={flags:{}});var g,h=a.xhr,i="import",j="stylesheet",k={documents:{},cache:{},preloadSelectors:["link[rel="+i+"]","element link[rel="+j+"]","template","script[src]","script:not([type])",'script[type="text/javascript"]'].join(","),loader:function(a){return g=new l(k.loaded,a),g.cache=k.cache,g},load:function(a,b){g=k.loader(b),k.preload(a)},preload:function(a){var b=a.querySelectorAll(k.preloadSelectors);b=this.filterMainDocumentNodes(a,b),b=this.extractTemplateNodes(b),g.addNodes(b)},filterMainDocumentNodes:function(a,b){return a===document&&(b=Array.prototype.filter.call(b,function(a){return!e(a)})),b},extractTemplateNodes:function(a){var b=[];return a=Array.prototype.filter.call(a,function(a){if("template"===a.localName){if(a.content){var c=a.content.querySelectorAll("link[rel="+j+"]");c.length&&(b=b.concat(Array.prototype.slice.call(c,0)))}return!1}return!0}),b.length&&(a=a.concat(b)),a},loaded:function(a,d,e){if(b(d)){var g=k.documents[a];g||(g=f(e,a),p.resolvePathsInHTML(g.body),k.documents[a]=g,k.preload(g)),d.import={href:a,ownerNode:d,content:g},d.content=e=g}d.__resource=e,c(d)&&p.resolvePathsInStylesheet(d)}},l=function(a,b){this.onload=a,this.oncomplete=b,this.inflight=0,this.pending={},this.cache={}};l.prototype={addNodes:function(a){this.inflight+=a.length,q(a,this.require,this),this.checkDone()},require:function(a){var b=p.nodeUrl(a);a.__nodeUrl=b,this.dedupe(b,a)||this.fetch(b,a)},dedupe:function(a,b){return this.pending[a]?(this.pending[a].push(b),!0):this.cache[a]?(this.onload(a,b,g.cache[a]),this.tail(),!0):(this.pending[a]=[b],!1)},fetch:function(a,b){var c=function(c,d){this.receive(a,b,c,d)}.bind(this);h.load(a,c)},receive:function(a,b,c,d){c||(g.cache[a]=d),g.pending[a].forEach(function(b){c||this.onload(a,b,d),this.tail()},this),g.pending[a]=null},tail:function(){--this.inflight,this.checkDone()},checkDone:function(){this.inflight||this.oncomplete()}};var m=["href","src","action"],n="["+m.join("],[")+"]",o="{{.*}}",p={nodeUrl:function(a){return p.resolveUrl(p.getDocumentUrl(document),p.hrefOrSrc(a))},hrefOrSrc:function(a){return a.getAttribute("href")||a.getAttribute("src")},documentUrlFromNode:function(a){return p.getDocumentUrl(a.ownerDocument)},getDocumentUrl:function(a){var b=a&&(a._URL||a.impl&&a.impl._URL||a.baseURI||a.URL)||"";return b.split("#")[0]},resolveUrl:function(a,b,c){if(this.isAbsUrl(b))return b;var d=this.compressUrl(this.urlToPath(a)+b);return c&&(d=p.makeRelPath(p.getDocumentUrl(document),d)),d},isAbsUrl:function(a){return/(^data:)|(^http[s]?:)|(^\/)/.test(a)},urlToPath:function(a){var b=a.split("/");return b.pop(),b.push(""),b.join("/")},compressUrl:function(a){for(var b,c=a.split("/"),d=0;d<c.length;d++)b=c[d],".."===b&&(c.splice(d-1,2),d-=2);return c.join("/")},makeRelPath:function(a,b){var c,d;for(c=this.compressUrl(a).split("/"),d=this.compressUrl(b).split("/");c.length&&c[0]===d[0];)c.shift(),d.shift();for(var e=0,f=c.length-1;f>e;e++)d.unshift("..");var g=d.join("/");return g},resolvePathsInHTML:function(a,b){b=b||p.documentUrlFromNode(a),p.resolveAttributes(a,b),p.resolveStyleElts(a,b);var c=a.querySelectorAll("template");c&&q(c,function(a){a.content&&p.resolvePathsInHTML(a.content,b)})},resolvePathsInStylesheet:function(a){var b=p.nodeUrl(a);a.__resource=p.resolveCssText(a.__resource,b)},resolveStyleElts:function(a,b){var c=a.querySelectorAll("style");c&&q(c,function(a){a.textContent=p.resolveCssText(a.textContent,b)})},resolveCssText:function(a,b){return a.replace(/url\([^)]*\)/g,function(a){var c=a.replace(/["']/g,"").slice(4,-1);return c=p.resolveUrl(b,c,!0),"url("+c+")"})},resolveAttributes:function(a,b){var c=a&&a.querySelectorAll(n);c&&q(c,function(a){this.resolveNodeAttributes(a,b)},this)},resolveNodeAttributes:function(a,b){m.forEach(function(c){var d=a.attributes[c];if(d&&d.value&&d.value.search(o)<0){var e=p.resolveUrl(b,d.value,!0);d.value=e}})}};h=h||{async:!0,ok:function(a){return a.status>=200&&a.status<300||304===a.status||0===a.status},load:function(b,c,d){var e=new XMLHttpRequest;(a.flags.debug||a.flags.bust)&&(b+="?"+Math.random()),e.open("GET",b,h.async),e.addEventListener("readystatechange",function(){4===e.readyState&&c.call(d,!h.ok(e)&&e,e.response,b)}),e.send()}};var q=Array.prototype.forEach.call.bind(Array.prototype.forEach);a.path=p,a.xhr=h,a.importer=k,a.getDocumentUrl=p.getDocumentUrl,a.IMPORT_LINK_TYPE=i}(window.HTMLImports),function(e){function t(a){return"link"===a.localName&&a.getAttribute("rel")===i}function n(a){return a.parentNode&&!r(a)&&!o(a)}function r(a){return a.ownerDocument===document||a.ownerDocument.impl===document}function o(a){return a.parentNode&&"element"===a.parentNode.localName}var i="import",a={selectors:["link[rel="+i+"]","link[rel=stylesheet]","style","script"],map:{link:"parseLink",script:"parseScript",style:"parseGeneric"},parse:function(b){if(!b.__importParsed){b.__importParsed=!0;var c=b.querySelectorAll(a.selectors);s(c,function(b){a[a.map[b.localName]](b)})}},parseLink:function(b){t(b)?b.content&&a.parse(b.content):this.parseGeneric(b)},parseGeneric:function(a){n(a)&&document.head.appendChild(a)},parseScript:function(t){if(n(t)){var r=(t.__resource||t.textContent).trim();if(r){var o=t.__nodeUrl;if(!o){var o=e.path.documentUrlFromNode(t),i="["+Math.floor(1e3*(Math.random()+1))+"]",a=r.match(/Polymer\(['"]([^'"]*)/);i=a&&a[1]||i,o+="/"+i+".js"}r+="\n//# sourceURL="+o+"\n",eval.call(window,r)}}}},s=Array.prototype.forEach.call.bind(Array.prototype.forEach);e.parser=a}(HTMLImports),function(){function a(){HTMLImports.importer.load(document,function(){HTMLImports.parser.parse(document),HTMLImports.readyTime=(new Date).getTime(),document.dispatchEvent(new CustomEvent("HTMLImportsLoaded",{bubbles:!0}))})}"function"!=typeof window.CustomEvent&&(window.CustomEvent=function(a){var b=document.createEvent("HTMLEvents");return b.initEvent(a,!0,!0),b}),"complete"===document.readyState?a():window.addEventListener("DOMContentLoaded",a)}(),function(){function a(a){return"link"===a.localName&&a.getAttribute("rel")===b}var b=window.HTMLImports?HTMLImports.IMPORT_LINK_TYPE:"none",c={selectors:["link[rel="+b+"]","element"],map:{link:"parseLink",element:"parseElement"},parse:function(a){if(!a.__parsed){a.__parsed=!0;var b=a.querySelectorAll(c.selectors);d(b,function(a){c[c.map[a.localName]](a)}),CustomElements.upgradeDocument(a),CustomElements.observeDocument(a)}},parseLink:function(b){a(b)&&this.parseImport(b)},parseImport:function(a){a.content&&c.parse(a.content)},parseElement:function(a){new HTMLElementElement(a)}},d=Array.prototype.forEach.call.bind(Array.prototype.forEach);CustomElements.parser=c}(),function(){function a(){setTimeout(function(){CustomElements.parser.parse(document),CustomElements.upgradeDocument(document),CustomElements.ready=!0,CustomElements.readyTime=Date.now(),window.HTMLImports&&(CustomElements.elapsed=CustomElements.readyTime-HTMLImports.readyTime),document.body.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))},0)}if("function"!=typeof window.CustomEvent&&(window.CustomEvent=function(a){var b=document.createEvent("HTMLEvents");return b.initEvent(a,!0,!0),b}),"complete"===document.readyState)a();else{var b=window.HTMLImports?"HTMLImportsLoaded":"DOMContentLoaded";window.addEventListener(b,a)}}(),function(){function a(a){return A.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function b(c,d){var e=b[d||a(c)];return e?e(c):c}function c(b){return-1==B.indexOf(a(b))?Array.prototype.slice.call(b,0):[b]}function d(a,b){return(b||C).length?c(a.querySelectorAll(b)):[]}function e(a,b){var c={added:[],removed:[]};b.forEach(function(b){b._mutation=!0;for(var d in c)for(var e=a._records["added"==d?"inserted":"removed"],f=b[d+"Nodes"],g=f.length,h=0;g>h&&-1==c[d].indexOf(f[h]);h++)c[d].push(f[h]),e.forEach(function(a){a(f[h],b)})})}function f(c,d,e){var f=a(e);return"object"==f&&"object"==a(c[d])?D.merge(c[d],e):c[d]=b(e,f),c}function g(a,b,c){var d={};for(var e in c)d[e.split(":")[0]]=!0;for(var f in b)d[f.split(":")[0]]||(c[f]=b[f])}function h(a){return a.mixins.forEach(function(b){var c=D.mixins[b];for(var d in c)switch(d){case"lifecycle":case"methods":g(d,c[d],a[d]);break;case"accessors":case"prototype":for(var e in c[d])g(e,c[d],a.accessors);break;case"events":}}),a}function i(a,b){if(b.type.match("touch"))a.listener.touched=!0;else if(a.listener.touched&&b.type.match("mouse"))return a.listener.touched=!1,!1;return!0}function j(a){var b="over"==a;return{base:"OverflowEvent"in q?"overflowchanged":a+"flow",condition:function(c,d){return d.flow=a,d.type==a+"flow"||0===d.orient&&d.horizontalOverflow==b||1==d.orient&&d.verticalOverflow==b||2==d.orient&&d.horizontalOverflow==b&&d.verticalOverflow==b}}}function k(a,b){return{value:a.boolean?"":b,method:a.boolean&&!b?"removeAttribute":"setAttribute"}}function l(a,b,c,d){var e=k(b,d);a[e.method](c,e.value)}function m(a,b,c,d,e){for(var f=b.property?[a.xtag[b.property]]:b.selector?D.query(a,b.selector):[],g=f.length;g--;)f[g][e](c,d)}function n(a,b,c){a.__view__&&a.__view__.updateBindingValue(a,b,c)}function o(a,b,c,d,e,f){var g=c.split(":"),h=g[0];if("get"==h)g[0]=b,a.prototype[b].get=D.applyPseudos(g.join(":"),d[c],a.pseudos);else if("set"==h){g[0]=b;var i=a.prototype[b].set=D.applyPseudos(g.join(":"),e?function(a){this.xtag._skipSet=!0,this.xtag._skipAttr||l(this,e,f,a),this.xtag._skipAttr&&e.skip&&delete this.xtag._skipAttr,d[c].call(this,e.boolean?!!a:a),n(this,f,a),delete this.xtag._skipSet}:d[c]?function(a){d[c].call(this,a),n(this,f,a)}:null,a.pseudos);e&&(e.setter=i)}else a.prototype[b][c]=d[c]}function p(a,b){a.prototype[b]={};var c=a.accessors[b],d=c.attribute,e=d&&d.name?d.name.toLowerCase():b;d&&(d.key=b,a.attributes[e]=d);for(var f in c)o(a,b,f,c,d,e);if(d){if(!a.prototype[b].get){var g=(d.boolean?"has":"get")+"Attribute";a.prototype[b].get=function(){return this[g](e)}}a.prototype[b].set||(a.prototype[b].set=function(a){l(this,d,e,a),n(this,e,a)})}}var q=window,r=document,s=function(){},t=/([\w-]+(?:\([^\)]+\))?)/g,u=/(\w*)(?:\(([^\)]*)\))?/,v=/(\d+)/g,w={action:function(a,b){return a.value.match(v).indexOf(String(b.keyCode))>-1==("keypass"==a.name)}},x=function(){var a=q.getComputedStyle(r.documentElement,""),b=(Array.prototype.slice.call(a).join("").match(/-(moz|webkit|ms)-/)||""===a.OLink&&["","o"])[1];return{dom:"ms"==b?b.toUpperCase():b,lowercase:b,css:"-"+b+"-",js:"ms"==b?b:b[0].toUpperCase()+b.substr(1)}}(),y=Element.prototype.matchesSelector||Element.prototype[x.lowercase+"MatchesSelector"],z=q.MutationObserver||q[x.js+"MutationObserver"],A={};b.object=function(a){var c={};for(var d in a)c[d]=b(a[d]);return c},b.array=function(a){for(var c=a.length,d=new Array(c);c--;)d[c]=b(a[c]);return d};var B=["number","boolean","string","function"],C="",D={tags:{},defaultOptions:{pseudos:[],mixins:[],events:{},methods:{},accessors:{template:{attribute:{},set:function(a){var b=this.getAttribute("template");this.xtag.__previousTemplate__=b,D.fireEvent(this,"templatechange",{template:a})}}},lifecycle:{},attributes:{},prototype:{xtag:{get:function(){return this.__xtag__?this.__xtag__:this.__xtag__={data:{}}}}}},register:function(a,b){var d,e;if("string"==typeof a)e=a.toLowerCase();else{if("ELEMENT"!=a.nodeName)return;d=a,e=d.getAttribute("name").toLowerCase()}var f=D.tags[e]=h(D.merge({},D.defaultOptions,b));for(var g in f.events)f.events[g]=D.parseEvent(g,f.events[g]);for(g in f.lifecycle)f.lifecycle[g.split(":")[0]]=D.applyPseudos(g,f.lifecycle[g],f.pseudos);for(g in f.methods)f.prototype[g.split(":")[0]]={value:D.applyPseudos(g,f.methods[g],f.pseudos),enumerable:!0};for(g in f.accessors)p(f,g);var i=f.lifecycle.created||f.lifecycle.ready;f.prototype.readyCallback={enumerable:!0,value:function(){var a=this,b=a.getAttribute("template");b&&D.fireEvent(this,"templatechange",{template:b}),D.addEvents(this,f.events),f.mixins.forEach(function(b){D.mixins[b].events&&D.addEvents(a,D.mixins[b].events)});var d=i?i.apply(this,c(arguments)):null;for(var e in f.attributes){var g=f.attributes[e],h=this.hasAttribute(e);(h||g.boolean)&&(this[g.key]=g.boolean?h:this.getAttribute(e))}return f.pseudos.forEach(function(b){b.onAdd.call(a,b)}),d}},f.lifecycle.inserted&&(f.prototype.insertedCallback={value:f.lifecycle.inserted,enumerable:!0}),f.lifecycle.removed&&(f.prototype.removedCallback={value:f.lifecycle.removed,enumerable:!0}),f.lifecycle.attributeChanged&&(f.prototype.attributeChangedCallback={value:f.lifecycle.attributeChanged,enumerable:!0});var j=f.prototype.setAttribute||HTMLElement.prototype.setAttribute;f.prototype.setAttribute={writable:!0,enumberable:!0,value:function(a,b){var c=f.attributes[a.toLowerCase()];this.xtag._skipAttr||j.call(this,a,c&&c.boolean?"":b),c&&(c.setter&&!this.xtag._skipSet&&(this.xtag._skipAttr=!0,c.setter.call(this,c.boolean?!0:b)),b=c.skip?c.boolean?this.hasAttribute(a):this.getAttribute(a):b,m(this,c,a,c.boolean?"":b,"setAttribute")),delete this.xtag._skipAttr}};var k=f.prototype.removeAttribute||HTMLElement.prototype.removeAttribute;return f.prototype.removeAttribute={writable:!0,enumberable:!0,value:function(a){var b=f.attributes[a.toLowerCase()];this.xtag._skipAttr||k.call(this,a),b&&(b.setter&&!this.xtag._skipSet&&(this.xtag._skipAttr=!0,b.setter.call(this,b.boolean?!1:void 0)),m(this,b,a,void 0,"removeAttribute")),delete this.xtag._skipAttr}},d?(d.register({prototype:Object.create(Object.prototype,f.prototype)}),void 0):r.register(e,{"extends":b["extends"],prototype:Object.create(Object.create((b["extends"]?document.createElement(b["extends"]).constructor:q.HTMLElement).prototype,f.prototype),f.prototype)})},mixins:{},prefix:x,templates:{},captureEvents:["focus","blur","scroll","underflow","overflow","overflowchanged"],customEvents:{overflow:j("over"),underflow:j("under"),animationstart:{base:["animationstart","oAnimationStart","MSAnimationStart","webkitAnimationStart"]},transitionend:{base:["transitionend","oTransitionEnd","MSTransitionEnd","webkitTransitionEnd"]},tap:{base:["click","touchend"],condition:i},tapstart:{base:["mousedown","touchstart"],condition:i},tapend:{base:["mouseup","touchend"],condition:i},tapenter:{base:["mouseover","touchenter"],condition:i},tapleave:{base:["mouseout","touchleave"],condition:i},tapmove:{base:["mousemove","touchmove"],condition:i}},pseudos:{keypass:w,keyfail:w,delegate:{action:function(a,b){var c=d(this,a.value).filter(function(a){return a==b.target||a.contains?a.contains(b.target):!1})[0];return c?a.listener=a.listener.bind(c):!1}},preventable:{action:function(a,b){return!b.defaultPrevented}}},clone:b,typeOf:a,toArray:c,wrap:function(a,b){return function(){var d=c(arguments),e=a.apply(this,d);return e===!1?!1:b.apply(this,"undefined"!=typeof e?c(e):d)}},merge:function(b,c,d){if("string"==a(c))return f(b,c,d);for(var e=1,g=arguments.length;g>e;e++){var h=arguments[e];for(var i in h)f(b,i,h[i])}return b},uid:function(){return Math.random().toString(36).substr(2,10)},query:d,skipTransition:function(a,b,c){var d=x.js+"TransitionProperty";a.style[d]=a.style.transitionProperty="none",D.requestFrame(function(){var e;b&&(e=b.call(c)),D.requestFrame(function(){a.style[d]=a.style.transitionProperty="",e&&D.requestFrame(e)})})},requestFrame:function(){var a=q.requestAnimationFrame||q[x.lowercase+"RequestAnimationFrame"]||function(a){return q.setTimeout(a,20)};return function(b){return a.call(q,b)}}(),matchSelector:function(a,b){return y.call(a,b)},set:function(a,b,c){a[b]=c,window.CustomElements&&CustomElements.upgradeAll(a)},innerHTML:function(a,b){D.set(a,"innerHTML",b)},hasClass:function(a,b){return a.className.split(" ").indexOf(b.trim())>-1},addClass:function(a,b){var c=a.className.trim().split(" ");return b.trim().split(" ").forEach(function(a){~c.indexOf(a)||c.push(a)}),a.className=c.join(" ").trim(),a},removeClass:function(a,b){var c=b.trim().split(" ");return a.className=a.className.trim().split(" ").filter(function(a){return a&&!~c.indexOf(a)}).join(" "),a},toggleClass:function(a,b){return D[D.hasClass(a,b)?"removeClass":"addClass"].call(null,a,b)},queryChildren:function(a,b){var d=a.id,e=a.id=d||"x_"+D.uid(),f="#"+e+" > ";b=f+(b+"").replace(",",","+f,"g");var g=a.parentNode.querySelectorAll(b);return d||a.removeAttribute("id"),c(g)},createFragment:function(a){var b=r.createDocumentFragment();if(a){for(var d=b.appendChild(r.createElement("div")),e=c(a.nodeName?arguments:!(d.innerHTML=a)||d.children),f=e.length,g=0;f>g;)b.insertBefore(e[g++],d);b.removeChild(d)}return b},manipulate:function(a,b){var c=a.nextSibling,d=a.parentNode,e=r.createDocumentFragment(),f=b.call(e.appendChild(a),e)||a;c?d.insertBefore(f,c):d.appendChild(f)},applyPseudos:function(a,b,d){var e=b,f={};if(a.match(":"))for(var g=a.match(t),h=g.length;--h;)g[h].replace(u,function(b,i,j){if(!D.pseudos[i])throw"pseudo not found: "+i+" "+g;var k=f[h]=Object.create(D.pseudos[i]);k.key=a,k.name=i,k.value=j;var l=e;e=function(){var b=c(arguments),d={key:a,name:i,value:j,listener:l};return k.action&&k.action.apply(this,[d].concat(b))===!1?!1:d.listener.apply(this,b)},d&&k.onAdd&&(d.getAttribute?k.onAdd.call(d,k):d.push(k))});for(var i in f)f[i].onCompiled&&(e=f[i].onCompiled(e,f[i]));return e},removePseudos:function(a,b){b._pseudos.forEach(function(b){b.onRemove.call(a,b)})},parseEvent:function(a,b){var d=a.split(":"),e=d.shift(),f=D.merge({base:e,pseudos:"",_pseudos:[],onAdd:s,onRemove:s,condition:s},D.customEvents[e]||{});if(f.type=e+(f.pseudos.length?":"+f.pseudos:"")+(d.length?":"+d.join(":"):""),b){var g=D.applyPseudos(f.type,b,f._pseudos);f.listener=function(){var a=c(arguments);return f.condition.apply(this,[f].concat(a))===!1?!1:g.apply(this,a)}}return f},addEvent:function(a,b,d){var e="function"==typeof d?D.parseEvent(b,d):d;return e.listener.event=e,e._pseudos.forEach(function(b){b.onAdd.call(a,b)}),e.onAdd.call(a,e,e.listener),c(e.base).forEach(function(b){a.addEventListener(b,e.listener,D.captureEvents.indexOf(b)>-1)}),e.listener},addEvents:function(a,b){var c={};for(var d in b)c[d]=D.addEvent(a,d,b[d]);return c},removeEvent:function(a,b,d){var e=d.event;e.onRemove.call(a,e,d),D.removePseudos(a,e),c(e.base).forEach(function(b){a.removeEventListener(b,d)})},removeEvents:function(a,b){for(var c in b)D.removeEvent(a,c,b[c])},fireEvent:function(a,b,c,d){var c=c||{},e=r.createEvent("CustomEvent");d&&console.warn("fireEvent has been modified, more info here: "),e.initCustomEvent(b,0==c.bubbles?!1:!0,0==c.cancelable?!1:!0,c.detail);try{a.dispatchEvent(e)}catch(f){console.warn("This error may have been caused by a change in the fireEvent method, more info here: ",f)}},addObserver:function(a,b,c){a._records||(a._records={inserted:[],removed:[]},z?(a._observer=new z(function(b){e(a,b)}),a._observer.observe(a,{subtree:!0,childList:!0,attributes:!1,characterData:!1})):["Inserted","Removed"].forEach(function(b){a.addEventListener("DOMNode"+b,function(c){c._mutation=!0,a._records[b.toLowerCase()].forEach(function(a){a(c.target,c)})},!1)})),-1==a._records[b].indexOf(c)&&a._records[b].push(c)},removeObserver:function(a,b,c){var d=a._records;d&&c?d[b].splice(d[b].indexOf(c),1):d[b]=[]}};"function"==typeof define&&define.amd?define(D):q.xtag=D,r.addEventListener("WebComponentsReady",function(){D.fireEvent(r.body,"DOMComponentsLoaded")})}(),!function(){xtag.register("x-appbar",{lifecycle:{created:function(){var a=xtag.queryChildren(this,"header")[0];a||(a=document.createElement("header"),this.appendChild(a)),this.xtag.data.header=a,this.subheading=this.subheading}},accessors:{heading:{get:function(){return this.xtag.data.header.innerHTML},set:function(a){this.xtag.data.header.innerHTML=a}},subheading:{attribute:{},get:function(){return this.getAttribute("subheading")||""},set:function(a){this.xtag.data.header.setAttribute("subheading",a)}}}})}(),!function(){function a(a,b){a.appendChild(b)}function b(a){return a instanceof Date&&!!a.getTime&&!isNaN(a.getTime())}function c(a){return a&&a.isArray?a.isArray():"[object Array]"===Object.prototype.toString.call(a)}function d(a){var b=a.split("."),c=b.shift(),d=document.createElement(c);return d[R]=b.join(" "),d}function e(a){if(a.getBoundingClientRect){var b=document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.getBoundingClientRect().left+b}return a.offsetParent?e(a.offsetParent)+a.offsetLeft:a.offsetLeft}function f(a){if(a.getBoundingClientRect){var b=document.documentElement.scrollTop||document.body.scrollTop||0;return a.getBoundingClientRect().top+b}return a.offsetParent?f(a.offsetParent)+a.offsetTop:a.offsetTop}function g(a){var b={top:f(a),left:e(a),width:a.offsetWidth,height:a.offsetHeight};return b.right=b.left+b.width,b.bottom=b.top+b.height,b}function h(a,b){xtag.addClass(a,b)}function i(a,b){xtag.removeClass(a,b)}function j(a,b){return xtag.hasClass(a,b)}function k(a){return a.getUTCFullYear()}function l(a){return a.getUTCMonth()}function m(a){return a.getUTCDate()}function n(a,b){var c=a.toString(),d=(new Array(b)).join("0");return(d+c).substr(-b)}function o(a){return[n(k(a),4),n(l(a)+1,2),n(m(a),2)].join("-")}function p(a){if(b(a))return a;var c=S.exec(a);return c?new Date(c[1],c[2]-1,c[3]):null}function q(a){if(b(a))return a;var c=p(a);if(c)return c;var d=Date.parse(a);return isNaN(d)?null:new Date(d)}function r(a){var d;if(c(a))d=a.slice(0);else{if(b(a))return[a];if(!("string"==typeof a&&a.length>0))return null;try{if(d=JSON.parse(a),!c(d))return console.log("invalid list of ranges",a),null}catch(e){var f=q(a);return f?[f]:(console.log("unable to parse",a,"as JSON or single date"),null)}}for(var g=0;g<d.length;g++){var h=d[g];if(!b(h))if("string"==typeof h){var i=q(h);if(!i)return console.log("unable to parse date",h),null;d[g]=i}else{if(!c(h)||2!==h.length)return console.log("invalid range value: ",h),null;var j=q(h[0]);if(!j)return console.log("unable to parse start date",h[0],"from range",h),null;var k=q(h[1]);if(!k)return console.log("unable to parse end date",h[1],"from range",h),null;if(j.valueOf()>k.valueOf())return console.log("invalid range",h,": start date is after end date"),null;d[g]=[j,k]}}return d}function s(a,b,c,d){return void 0===b&&(b=k(a)),void 0===c&&(c=l(a)),void 0===d&&(d=m(a)),new Date(b,c,d)}function t(a,b,c,d){return s(a,k(a)+b,l(a)+c,m(a)+d)}function u(a){for(;a.getUTCDay()>0;)a=z(a);return a}function v(a){for(;a.getUTCDay()<6;)a=y(a);return a}function w(a){for(;m(a)>1;)a=z(a);return a}function x(a){return z(t(a,0,1,0))}function y(a){return t(a,0,0,1)}function z(a){return t(a,0,0,-1)}function A(a,b){if(b){b=void 0===b.length?[b]:b;var c=!1;return b.forEach(function(b){2==b.length?B(b[0],b[1],a)&&(c=!0):o(b)==o(a)&&(c=!0)}),c}}function B(a,b,c){return o(a)<=o(c)&&o(c)<=o(b)}function C(a){a.sort(function(a,c){var d=b(a)?a:a[0],e=b(c)?c:c[0];return d.valueOf()-e.valueOf()})}function D(c,e){if(!b(c))throw"Invalid view date!";var f=l(c);m(c);var g=u(w(c)),i=d("div.month"),j=d("div.label");j.textContent=M.months[f]+" "+k(c),a(i,j);for(var n=d("div.week"),p=g,q=!1;!q;){var r=d("span.day");r.setAttribute("data-date",o(p)),r.textContent=m(p),l(p)!=f&&h(r,"badmonth"),A(p,e)&&h(r,Q),A(p,N)&&h(r,"today"),a(n,r),p=y(p),p.getUTCDay()<1&&(a(i,n),n=d("div.week"),q=l(p)>f||l(p)<f&&k(p)>k(g))}return i}function E(){var b=d("div.controls"),c=d("span.prev"),e=d("span.next");return c.innerHTML=M.prev,e.innerHTML=M.next,a(b,c),a(b,e),b}function F(a){a=a||{},this._span=a.span||1,this._multiple=a.multiple||!1,this._viewDate=this._getSanitizedViewDate(a.view,a.chosen),this._chosenRanges=this._getSanitizedChosenRanges(a.chosen,a.view),this._el=d("div.calendar"),this._customRenderFn=null,this._renderRecursionFlag=!1,this.render(!0)}function G(a){a=a.slice(0),C(a);for(var c=[],d=0;d<a.length;d++){var e,f,g,h,i=a[d],j=c.length>0?c[c.length-1]:null;if(b(i)?e=f=i:(e=i[0],f=i[1]),i=A(e,f)?e:[e,f],b(j))g=h=j;else{if(!j){c.push(i);continue}g=j[0],h=j[1]}if(A(e,[j])||A(z(e),[j])){var k=g.valueOf()<e.valueOf()?g:e,l=h.valueOf()>f.valueOf()?h:f,m=A(k,l)?k:[k,l];c[c.length-1]=m}else c.push(i)}return c}function H(a,b){var c,d=b.getAttribute("data-date"),e=q(d);j(b,Q)?(a.xtag.dragType=P,c="datetoggleoff"):(a.xtag.dragType=O,c="datetoggleon"),a.xtag.dragStartEl=b,a.xtag.dragAllowTap=!0,a.disableUIToggle||xtag.fireEvent(a,c,{detail:{date:e,iso:d}}),a.setAttribute("active",!0),b.setAttribute("active",!0)}function I(a,b){var c=b.getAttribute("data-date"),d=q(c);b!==a.xtag.dragStartEl&&(a.xtag.dragAllowTap=!1),a.disableUIToggle||(a.xtag.dragType!==O||j(b,Q)?a.xtag.dragType===P&&j(b,Q)&&xtag.fireEvent(a,"datetoggleoff",{detail:{date:d,iso:c}}):xtag.fireEvent(a,"datetoggleon",{detail:{date:d,iso:c}})),a.xtag.dragType&&b.setAttribute("active",!0)}function J(){for(var a=xtag.query(document,"x-calendar"),b=0;b<a.length;b++){var c=a[b];c.xtag.dragType=null,c.xtag.dragStartEl=null,c.xtag.dragAllowTap=!1,c.removeAttribute("active")}for(var d=xtag.query(document,"x-calendar .day[active]"),e=0;e<d.length;e++)d[e].removeAttribute("active")}function K(a,b,c){return c.left<=a&&a<=c.right&&c.top<=b&&b<=c.bottom}var L=0,M={prev:"<",next:">",months:["January","February","March","April","May","June","July","August","September","October","November","December"]},N=new Date;N.setUTCHours(0),N.setUTCMinutes(0),N.setUTCSeconds(0),N.setUTCMilliseconds(0);var O="add",P="remove",Q="chosen",R="className",S=/(\d{4})[^\d]?(\d{2})[^\d]?(\d{2})/;F.prototype._getSanitizedViewDate=function(a,d){if(d=void 0===d?this.chosen:d,b(a))return a;if(b(d))return d;if(c(d)&&d.length>0){var e=d[0];return b(e)?e:e[0]}return N},F.prototype._getSanitizedChosenRanges=function(a,d){d=void 0===d?this.view:d;var e;e=b(a)?[a]:c(a)?a:null!==a&&void 0!==a&&d?[d]:[];var f=G(e);if(!this.multiple&&f.length>0){var g=f[0];return b(g)?[g]:[g[0]]}return f},F.prototype.addDate=function(a,c){b(a)&&(c?(this.chosen.push(a),this.chosen=this.chosen):this.chosen=[a])},F.prototype.removeDate=function(a){if(b(a))for(var d=this.chosen.slice(0),e=0;e<d.length;e++){var f=d[e];if(A(a,[f])){if(d.splice(e,1),c(f)){var g=f[0],h=f[1],i=z(a),j=y(a);A(i,[f])&&d.push([g,i]),A(j,[f])&&d.push([j,h])}this.chosen=G(d);break}}},F.prototype.hasChosenDate=function(a){return A(a,this._chosenRanges)},F.prototype.hasVisibleDate=function(a,b){var c=this.firstVisibleMonth;b||(c=u(c));var d=x(this.lastVisibleMonth);return b||(d=v(d)),A(a,[[c,d]])},F.prototype.render=function(b){var c,d=this._span;if(b){var e,f=xtag.query(this.el,".day");for(c=0;c<f.length;c++)if(e=f[c],e.hasAttribute("data-date")){var g=e.getAttribute("data-date"),j=p(g);j&&(A(j,this._chosenRanges)?h(e,Q):i(e,Q),A(j,[N])?h(e,"today"):i(e,"today"))}}else{this.el.innerHTML="";var k=this.firstVisibleMonth;for(c=0;d>c;c++)a(this.el,D(k,this._chosenRanges)),k=t(k,0,1,0)}this._callCustomRenderer()},F.prototype._callCustomRenderer=function(){if(this._customRenderFn){if(this._renderRecursionFlag)throw"Error: customRenderFn causes recursive loop of rendering calendar; make sure your custom rendering function doesn't modify attributes of the x-calendar that would require a re-render!";for(var a=xtag.query(this.el,".day"),b=0;b<a.length;b++){var c=a[b],d=c.getAttribute("data-date"),e=p(d);this._renderRecursionFlag=!0,this._customRenderFn(c,e?e:null,d),this._renderRecursionFlag=!1}}},Object.defineProperties(F.prototype,{el:{get:function(){return this._el}},multiple:{get:function(){return this._multiple},set:function(a){this._multiple=a,this.chosen=this._getSanitizedChosenRanges(this.chosen),this.render(!0)}},span:{get:function(){return this._span},set:function(a){var b=parseInt(a,10);this._span=!isNaN(b)&&b>=0?b:0,this.render(!1)}},view:{attribute:{},get:function(){return this._viewDate},set:function(a){var b=this._getSanitizedViewDate(a),c=this._viewDate;this._viewDate=b,this.render(l(c)===l(b)&&k(c)===k(b))}},chosen:{get:function(){return this._chosenRanges},set:function(a){this._chosenRanges=this._getSanitizedChosenRanges(a),this.render(!0)}},customRenderFn:{get:function(){return this._customRenderFn},set:function(a){this._customRenderFn=a,this.render(!0)}},chosenString:{get:function(){if(this.multiple){for(var a=this.chosen.slice(0),c=0;c<a.length;c++){var d=a[c];a[c]=b(d)?o(d):[o(d[0]),o(d[1])]}return JSON.stringify(a)}return this.chosen.length>0?o(this.chosen[0]):""}},firstVisibleMonth:{get:function(){return w(t(this.view,0,-Math.floor(this.span/2),0))}},lastVisibleMonth:{get:function(){return t(this.firstVisibleMonth,0,Math.max(0,this.span-1),0)}}});var T=null,U=null;xtag.register("x-calendar",{lifecycle:{created:function(){this.innerHTML="";var b=this.hasAttribute("multiple"),c=this.getAttribute("chosen");this.xtag.calObj=new F({span:this.getAttribute("span"),view:q(this.getAttribute("view")),chosen:r(c),multiple:b}),a(this,this.xtag.calObj.el),this.xtag.calControls=null,this.xtag.dragType=null,this.xtag.dragStartEl=null,this.xtag.dragAllowTap=!1},inserted:function(){T||(T=xtag.addEvent(document,"mouseup",J)),U||(U=xtag.addEvent(document,"touchend",J)),this.render(!1)},removed:function(){0===xtag.query(document,"x-calendar").length&&(T&&(xtag.removeEvent(document,"mouseup",T),T=null),U&&(xtag.removeEvent(document,"touchend",U),U=null))}},events:{"tap:delegate(.next)":function(a){var b=a.currentTarget;b.nextMonth(),xtag.fireEvent(b,"nextmonth")},"tap:delegate(.prev)":function(a){var b=a.currentTarget;b.prevMonth(),xtag.fireEvent(b,"prevmonth")},"mousedown:delegate(.day)":function(a){a.button&&a.button!==L||(a.preventDefault(),H(a.currentTarget,this))},"touchstart:delegate(.day)":function(a){a.preventDefault(),H(a.currentTarget,this)},touchmove:function(a){if(a.touches&&a.touches.length>0){var b=a.currentTarget;if(b.xtag.dragType)for(var c=a.touches[0],d=xtag.query(b,".day"),e=0;e<d.length;e++){var f=d[e];K(c.pageX,c.pageY,g(f))?I(b,f):f.removeAttribute("active")}}},"mouseover:delegate(.day)":function(a){var b=a.currentTarget,c=this;I(b,c)},"mouseout:delegate(.day)":function(){var a=this;a.removeAttribute("active")},"tapend:delegate(.day)":function(a){var b=a.currentTarget;if(b.xtag.dragAllowTap){var c=this,d=c.getAttribute("data-date"),e=q(d);xtag.fireEvent(b,"datetap",{detail:{date:e,iso:d}})}},datetoggleon:function(a){var b=this;b.toggleDateOn(a.detail.date,b.multiple)},datetoggleoff:function(a){var b=this;b.toggleDateOff(a.detail.date)}},accessors:{controls:{attribute:{"boolean":!0},set:function(b){b&&!this.xtag.calControls&&(this.xtag.calControls=E(),a(this,this.xtag.calControls))}},multiple:{attribute:{"boolean":!0},get:function(){return this.xtag.calObj.multiple},set:function(a){this.xtag.calObj.multiple=a,this.chosen=this.chosen}},span:{attribute:{},get:function(){return this.xtag.calObj.span},set:function(a){this.xtag.calObj.span=a}},view:{attribute:{},get:function(){return this.xtag.calObj.view},set:function(a){var b=q(a);b&&(this.xtag.calObj.view=b)}},chosen:{attribute:{skip:!0},get:function(){var a=this.xtag.calObj.chosen;if(this.multiple)return this.xtag.calObj.chosen;if(a.length>0){var c=a[0];return b(c)?c:c[0]}return null},set:function(a){var b=this.multiple?r(a):q(a);this.xtag.calObj.chosen=b?b:null,this.xtag.calObj.chosenString?this.setAttribute("chosen",this.xtag.calObj.chosenString):this.removeAttribute("chosen")}},disableUIToggle:{attribute:{"boolean":!0,name:"disable-ui-toggle"},set:function(a){a&&(this.chosen=null)}},firstVisibleMonth:{get:function(){return this.xtag.calObj.firstVisibleMonth}},lastVisibleMonth:{get:function(){return this.xtag.calObj.lastVisibleMonth}},customRenderFn:{get:function(){return this.xtag.calObj.customRenderFn},set:function(a){this.xtag.calObj.customRenderFn=a}}},methods:{render:function(a){this.xtag.calObj.render(a)},prevMonth:function(){var a=this.xtag.calObj;a.view=t(a.view,0,-1,0)},nextMonth:function(){var a=this.xtag.calObj;a.view=t(a.view,0,1,0)},toggleDateOn:function(a,b){this.xtag.calObj.addDate(a,b),this.chosen=this.chosen},toggleDateOff:function(a){this.xtag.calObj.removeDate(a),this.chosen=this.chosen},toggleDate:function(a,b){this.xtag.calObj.hasChosenDate(a)?this.toggleDateOff(a):this.toggleDateOn(a,b)},hasVisibleDate:function(a,b){return this.xtag.calObj.hasVisibleDate(a,b)}}})}(),!function(){function a(a){return a instanceof Date&&!!a.getTime&&!isNaN(a.getTime())}function b(a){return a.getUTCFullYear()}function c(a){return a.getUTCMonth()}function d(a){return a.getUTCDate()}function e(a,b){var c=a.toString(),d=(new Array(b)).join("0");return(d+c).substr(-b)}function f(a){return[e(b(a),4),e(c(a)+1,2),e(d(a),2)].join("-")}function g(b){if(a(b))return b;var c=l.exec(b);return c?new Date(c[1],c[2]-1,c[3]):null}function h(b){if(a(b))return b;var c=g(b);if(c)return c;var d=Date.parse(b);return isNaN(d)?null:new Date(d)}function i(a){var b=a.polyfill?a.xtag.polyfillInput:a.xtag.dateInput,c=h(b.value);return c?a.removeAttribute("invalid"):a.setAttribute("invalid",!0),!!c}function j(a,b){var c=a.polyfill?a.xtag.polyfillInput.value:a.xtag.dateInput.value,d=h(c);a.value=b&&d?d:c}var k=13,l=/(\d{4})[^\d]?(\d{2})[^\d]?(\d{2})/;xtag.register("x-datepicker",{lifecycle:{created:function(){this.innerHTML="",this.xtag.dateInput=document.createElement("input"),this.xtag.dateInput.setAttribute("type","date"),xtag.addClass(this.xtag.dateInput,"x-datepicker-input"),this.appendChild(this.xtag.dateInput),this.xtag.polyfillInput=null,this.xtag.polyfillUI=null,this.polyfill=this.hasAttribute("polyfill")||"date"!==this.xtag.dateInput.type.toLowerCase()}},events:{"datetoggleon:delegate(x-calendar)":function(a){var b=a.currentTarget;if(a.detail&&a.detail.date){var c=h(a.detail.date);b.value=c?f(c):"",xtag.fireEvent(b.xtag.polyfillInput,"input")}},"datetoggleoff:delegate(x-calendar)":function(a){var b=a.currentTarget;b.value=null},focus:function(a){var b=a.currentTarget;b.setAttribute("focused",!0)},"blur:delegate(.x-datepicker-input)":function(a){a.currentTarget.removeAttribute("focused")},"blur:delegate(.x-datepicker-polyfill-input)":function(a){var b=a.currentTarget;j(b,!0),b.removeAttribute("focused")},"tapstart:delegate(x-calendar)":function(a){a.preventDefault()},"keypress:delegate(.x-datepicker-polyfill-input)":function(a){var b=a.key||a.keyCode;b===k&&j(a.currentTarget,!0)},"input:delegate(.x-datepicker-input)":function(a){j(a.currentTarget,!0)},"input:delegate(.x-datepicker-polyfill-input)":function(a){j(a.currentTarget,!1)}},accessors:{name:{attribute:{selector:".x-datepicker-input"},set:function(a){null===a||void 0===a?this.xtag.dateInput.removeAttribute("name"):this.xtag.dateInput.setAttribute("name",a)}},submitValue:{get:function(){var a=this.xtag.dateInput;return a.hasAttribute("name")||console.log("warning: no name is specified for the datepicker, so the submitValue will not submitted by default"),a.value}},value:{attribute:{skip:!0},get:function(){return this.polyfill?this.xtag.polyfillInput.value:this.xtag.dateInput.value},set:function(a){var b=h(a),c=b?f(b):null,d=this.xtag.dateInput,e=this.xtag.polyfillInput,g=this.xtag.polyfillUI;if(null===a||void 0===a)this.removeAttribute("value"),d.value="",e&&(e.value=""),g&&(g.chosen=null);else{var j=c?c:a;e?a!==e.value?(e.value=j,this.setAttribute("value",j)):this.setAttribute("value",a):this.setAttribute("value",j),c?(d.value=c,g&&(g.chosen=b,g.view=b)):(d.value="",g&&(g.chosen=null))}i(this)}},polyfill:{attribute:{"boolean":!0},set:function(a){var b=this.xtag.dateInput;if(a){if(b.setAttribute("type","hidden"),b.setAttribute("readonly",!0),!this.xtag.polyfillInput){var c=document.createElement("input");xtag.addClass(c,"x-datepicker-polyfill-input"),c.setAttribute("type","text"),c.setAttribute("placeholder","YYYY-MM-DD"),c.value=this.xtag.dateInput.value,this.xtag.polyfillInput=c,this.appendChild(c)}if(this.xtag.polyfillInput.removeAttribute("disabled"),!this.xtag.polyfillUI){var d=document.createElement("x-calendar");xtag.addClass(d,"x-datepicker-polyfill-ui"),d.chosen=this.value,d.view=this.xtag.dateInput.value,d.controls=!0,this.xtag.polyfillUI=d,this.appendChild(d)}}else b.setAttribute("type","date"),b.removeAttribute("readonly"),this.xtag.polyfillInput&&this.xtag.polyfillInput.setAttribute("disabled",!0)}}}})}(),!function(){function a(a,b){this._historyStack=[],this.currIndex=-1,this._itemCap=void 0,this.itemCap=b,this._validatorFn=a?a:function(){return!0}}function b(a){var b=window.getComputedStyle(a),c=xtag.prefix.js+"TransitionDuration";return b.transitionDuration?b.transitionDuration:b[c]}function c(a){if("string"!=typeof a)return 0;var b=/^(\d*\.?\d+)(m?s)$/,c=a.toLowerCase().match(b);if(c){var d=c[1],e=c[2],f=parseFloat(d);if(isNaN(f))throw"value error";if("s"===e)return 1e3*f;if("ms"===e)return f;throw"unit error"}return 0}function d(a,b){return(a%b+b)%b}function e(a){return xtag.queryChildren(a,"x-card")}function f(a,b){var c=e(a);return 0>b||b>=c.length?null:c[b]}function g(a,b){var c=e(a);return c.indexOf(b)}function h(a,d,f,g,h){a.xtag._selectedCard=f;var i=new Date;a.xtag._lastAnimTimestamp=i;var j=function(){i===a.xtag._lastAnimTimestamp&&k(a),xtag.fireEvent(a,"shuffleend")};if(f===d)return j(),void 0;var l=!1,m=!1,n=!1,o=function(){l&&m&&(e(a).forEach(function(a){a.removeAttribute("selected"),a.removeAttribute("leaving")}),d.setAttribute("leaving",!0),f.setAttribute("selected",!0),a.xtag._selectedCard=f,h&&(d.setAttribute("reverse",!0),f.setAttribute("reverse",!0)),xtag.fireEvent(a,"shufflestart"))},p=function(){n||l&&m&&q()},q=function(){n=!0;var a=!1,e=!1,h=!1,i=function(b){h||(b.target===d?(a=!0,d.removeEventListener("transitionend",i)):b.target===f&&(e=!0,f.removeEventListener("transitionend",i)),a&&e&&(h=!0,j()))};d.addEventListener("transitionend",i),f.addEventListener("transitionend",i);var k=c(b(d)),l=c(b(f)),m=Math.max(k,l),o=1.15,p="none"===g.toLowerCase()?0:Math.ceil(m*o);0===p?(h=!0,d.removeEventListener("transitionend",i),f.removeEventListener("transitionend",i),d.removeAttribute("before-animation"),f.removeAttribute("before-animation"),j()):(d.removeAttribute("before-animation"),f.removeAttribute("before-animation"),window.setTimeout(function(){h||(h=!0,d.removeEventListener("transitionend",i),f.removeEventListener("transitionend",i),j())},p))};xtag.skipTransition(d,function(){return d.setAttribute("card-anim-type",g),d.setAttribute("before-animation",!0),l=!0,o(),p},this),xtag.skipTransition(f,function(){return f.setAttribute("card-anim-type",g),f.setAttribute("before-animation",!0),m=!0,o(),p},this)}function i(a,b,c,d,f){var g=a.xtag._selectedCard;if(g===b)return xtag.fireEvent(a,"shufflestart"),xtag.fireEvent(a,"shuffleend"),void 0;k(a),void 0===c&&(console.log("defaulting to none transition"),c="none");var i;switch(d){case"forward":i=!1;break;case"reverse":i=!0;break;default:g||(i=!1);var j=e(a);i=j.indexOf(b)<j.indexOf(g)?!0:!1}b.hasAttribute("transition-override")&&(c=b.getAttribute("transition-override")),f||a.xtag.history.pushState(b),h(a,g,b,c,i)}function j(a,b,c,d){var e=f(a,b);if(!e)throw"no card at index "+b;i(a,e,c,d)}function k(a){var b=e(a),c=a.xtag._selectedCard;c&&c.parentNode===a||(c=b.length>0?a.xtag.history&&a.xtag.history.numStates>0?a.xtag.history.currState:b[0]:null),b.forEach(function(a){a.removeAttribute("leaving"),a.removeAttribute("before-animation"),a.removeAttribute("card-anim-type"),a.removeAttribute("reverse"),a!==c?a.removeAttribute("selected"):a.setAttribute("selected",!0)}),a.xtag._selectedCard=c}a.prototype.pushState=function(a){if(this.canRedo&&this._historyStack.splice(this.currIndex+1,this._historyStack.length-(this.currIndex+1)),this._historyStack.push(a),this.currIndex=this._historyStack.length-1,this.sanitizeStack(),"none"!=this._itemCap&&this._historyStack.length>this._itemCap){var b=this._historyStack.length;this._historyStack.splice(0,b-this._itemCap),this.currIndex=this._historyStack.length-1}},a.prototype.sanitizeStack=function(){for(var a,b=this._validatorFn,c=0;c<this._historyStack.length;){var d=this._historyStack[c];d!==a&&b(d)?(a=d,c++):(this._historyStack.splice(c,1),c<=this.currIndex&&this.currIndex--)}},a.prototype.forwards=function(){this.canRedo&&this.currIndex++,this.sanitizeStack()},a.prototype.backwards=function(){this.canUndo&&this.currIndex--,this.sanitizeStack()},Object.defineProperties(a.prototype,{DEFAULT_CAP:{value:10},itemCap:{get:function(){return this._itemCap},set:function(a){if(void 0===a)this._itemCap=this.DEFAULT_CAP;else if("none"===a)this._itemCap="none";else{var b=parseInt(a,10);if(isNaN(a)||0>=a)throw"attempted to set invalid item cap: "+a;this._itemCap=b}}},canUndo:{get:function(){return this.currIndex>0}},canRedo:{get:function(){return this.currIndex<this._historyStack.length-1}},numStates:{get:function(){return this._historyStack.length}},currState:{get:function(){var a=this.currIndex;return a>=0&&a<this._historyStack.length?this._historyStack[a]:null}}}),xtag.register("x-deck",{lifecycle:{created:function(){this.xtag.history=new a(function(a){return a.parentNode===this}.bind(this),a.DEFAULT_CAP),this.xtag._selectedCard=this.xtag._selectedCard?this.xtag._selectedCard:null,this.xtag._lastAnimTimestamp=null,this.xtag.transitionType="scrollLeft",k(this);var b=this.xtag._selectedCard;!this.hasAttribute("selected-index")&&b&&this.xtag.history.pushState(b)}},events:{"show:delegate(x-card)":function(){var a=this;a.show()}},accessors:{transitionType:{attribute:{name:"transition-type"},get:function(){return this.xtag.transitionType},set:function(a){this.xtag.transitionType=a}},selectedIndex:{attribute:{name:"selected-index"},get:function(){return g(this,this.xtag._selectedCard)},set:function(a){j(this,a,"none")}},historyCap:{attribute:{name:"history-cap"},get:function(){return this.xtag.history.itemCap},set:function(a){this.xtag.history.itemCap=a}},numCards:{get:function(){return this.getAllCards().length}},currHistorySize:{get:function(){return this.xtag.history.numStates}},currHistoryIndex:{get:function(){return this.xtag.history.currIndex}}},methods:{shuffleTo:function(a,b){var c=f(this,a);if(!c)throw"invalid shuffleTo index "+a;var d=this.xtag.transitionType;j(this,a,d,b)},shuffleNext:function(a){a=a?a:"auto";var b=e(this),c=this.xtag._selectedCard,f=b.indexOf(c);f>-1&&this.shuffleTo(d(f+1,b.length),a)},shufflePrev:function(a){a=a?a:"auto";var b=e(this),c=this.xtag._selectedCard,f=b.indexOf(c);f>-1&&this.shuffleTo(d(f-1,b.length),a)},getAllCards:function(){return e(this)},getSelectedCard:function(){return this.xtag._selectedCard},getCardIndex:function(a){return g(this,a)},getCardAt:function(a){var b=this.getAllCards();return a>=0&&a<b.length?b[a]:null},historyBack:function(a){var b=this.xtag.history;if(b.canUndo){b.backwards();var c=b.currState;c&&i(this,c,this.transitionType,a,!0)}},historyForward:function(a){var b=this.xtag.history;if(b.canRedo){b.forwards();var c=b.currState;c&&i(this,c,this.transitionType,a,!0)}}}}),xtag.register("x-card",{lifecycle:{inserted:function(){var a=this.parentNode;a&&"x-deck"===a.tagName.toLowerCase()&&(k(a),this.xtag.parentDeck=a)},created:function(){var a=this.parentNode;a&&"x-deck"===a.tagName.toLowerCase()&&(k(a),this.xtag.parentDeck=a)},removed:function(){if(this.xtag.parentDeck){var a=this.xtag.parentDeck;a.xtag.history.sanitizeStack(),k(a)}}},accessors:{transitionOverride:{attribute:{name:"transition-override"}}},methods:{show:function(){var a=this.parentNode;a===this.xtag.parentDeck&&a.shuffleTo(a.getCardIndex(this))}}})}(),!function(){xtag.register("x-flipbox",{lifecycle:{created:function(){this.flipped?xtag.skipTransition(this.firstElementChild,function(){}):xtag.skipTransition(this.lastElementChild,function(){})}},events:{transitionend:function(a){a.target==this&&xtag.fireEvent(this,"flipend")},"show:delegate(*:first-child)":function(a){var b=a.target,c=b.parentNode;"x-flipbox"===c.nodeName.toLowerCase()&&(c.flipped=!1)},"show:delegate(*:last-child)":function(a){var b=a.target,c=b.parentNode;"x-flipbox"===c.nodeName.toLowerCase()&&(c.flipped=!0)}},accessors:{direction:{get:function(){return this.getAttribute("direction")},set:function(a){xtag.skipTransition(this.firstElementChild,function(){this.setAttribute("direction",a)},this),xtag.skipTransition(this.lastElementChild,function(){this.setAttribute("direction",a)},this)}},flipped:{attribute:{"boolean":!0}}},methods:{toggle:function(){this.flipped=!this.flipped}}})}(),!function(){function a(a,b){a.xtag.iconEl.nodeName===g?(b=void 0!==b?b:a.xtag.iconEl.src,b||(a.xtag.iconEl.src=f),a.xtag.iconEl.style.display=b&&b!==f?"":"none"):a.xtag.iconEl.style.display=a.xtag.iconEl.innerHTML?"":"none",a.xtag.labelEl.style.display=a.xtag.labelEl.innerHTML?"":"none"}function b(a){var b=a.xtag.iconEl,c=a.xtag.labelEl;if(c&&b){var d=b.parentNode;if(!d||c.parentNode!==d)throw"invalid parent node of iconbutton's icon / label";switch(a.iconAnchor){case"right":case"bottom":d.insertBefore(c,b);break;default:d.insertBefore(b,c)}}}function c(){xtag.query(document,"x-iconbutton[active]").forEach(function(a){a.removeAttribute("active")})}function d(){xtag.query(document,"x-iconbutton:focus").forEach(function(a){a.blur()})}function e(a){c(a),d()}var f="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",g=document.createElement("img").nodeName,h=function(a){return a.xtag.labelEl.textContent},i=function(a,b){a.xtag.labelEl.textContent=b},j=32,k=13,l=null;xtag.register("x-iconbutton",{lifecycle:{created:function(){var c=this.innerHTML;this.innerHTML="<div class='x-iconbutton-content-wrap'><img class='x-iconbutton-icon'      src='"+f+"'/>"+"<span class='x-iconbutton-label'></span>"+"</div>"+"<div class='x-iconbutton-ghost'></div>",this.xtag.iconEl=this.querySelector(".x-iconbutton-icon"),this.xtag.labelEl=this.querySelector(".x-iconbutton-label"),this.xtag.labelEl.innerHTML=c,this.textGetter||(this.textGetter=h),this.textSetter||(this.textSetter=i),b(this),a(this),this.hasAttribute("tabindex")||this.setAttribute("tabindex",0)},inserted:function(){l||(l={tapend:xtag.addEvent(document,"tapend",e),dragend:xtag.addEvent(document,"dragend",e),keyup:xtag.addEvent(document,"keyup",c)}),b(this),a(this)},removed:function(){if(l&&!document.query("x-calendar")){for(var a in l)xtag.removeEvent(document,a,l[a]);l=null}},attributeChanged:function(){b(this),a(this)}},events:{tapstart:function(a){a.currentTarget.setAttribute("active",!0)},keypress:function(a){var b=a.key||a.keyCode;(b===j||b===k)&&a.currentTarget.click()},keydown:function(a){var b=a.key||a.keyCode;(b===j||b===k)&&a.currentTarget.setAttribute("active",!0)}},accessors:{src:{attribute:{},get:function(){return this.xtag.iconEl.getAttribute("src")},set:function(b){this.xtag.iconEl.setAttribute("src",b),this.xtag.iconEl.src=b,a(this,b)}},active:{attribute:{}},iconAnchor:{attribute:{name:"icon-anchor"},set:function(){b(this)}},icon:{get:function(){return this.xtag.iconEl}},label:{get:function(){return this.xtag.labelEl}},text:{get:function(){return this.textGetter(this)},set:function(a){this.textSetter(this,a)}},textGetter:{get:function(){return this.xtag.textGetter},set:function(a){this.xtag.textGetter=a}},textSetter:{get:function(){return this.xtag.textSetter},set:function(a){this.xtag.textSetter=a}}}})}(),!function(){function a(a){var b=a.firstElementChild;if(!b)return{header:null,section:null,footer:null};var c=b.nextElementSibling;return{header:"HEADER"==b.nodeName?b:null,section:"SECTION"==b.nodeName?b:c&&"SECTION"==c.nodeName?c:null,footer:"FOOTER"==a.lastElementChild.nodeName?a.lastElementChild:null}}function b(a,b){var c=b.__layoutScroll__=b.__layoutScroll__||Object.defineProperty(b,"__layoutScroll__",{value:{last:b.scrollTop}}).__layoutScroll__,d=b.scrollTop,e=a.scrollBuffer;return c.max=c.max||Math.max(d+e,e),c.min=c.min||Math.max(d-e,e),c}function c(a,b){a.setAttribute("content-maximizing",null),b.header&&(b.section.style.marginTop="-"+b.header.getBoundingClientRect().height+"px"),b.footer&&(b.section.style.marginBottom="-"+b.footer.getBoundingClientRect().height+"px")}function d(a,b){a.removeAttribute("content-maximized"),b.header&&(b.section.style.marginTop=""),b.footer&&(b.section.style.marginBottom="")}function e(e){if(!e.currentTarget.hasAttribute("content-maximizing")){var f=e.target,g=e.currentTarget;if(this.scrollhide&&(f.parentNode==g||xtag.matchSelector(f,g.scrollTarget))){var h=f.scrollTop,i=g.scrollBuffer,j=a(g),k=b(g,f);h>k.last?k.min=Math.max(h-i,i):h<k.last&&(k.max=Math.max(h+i,i)),g.maxcontent||(h>k.max&&!g.hasAttribute("content-maximized")?c(g,j):h<k.min&&d(g,j)),k.last=h}}}var f={"margin-top":"marginTop","margin-bottom":"marginBottom"};xtag.register("x-layout",{lifecycle:{created:function(){}},methods:{},events:{scroll:e,transitionend:function(b){var c=a(this);this.removeAttribute("content-maximizing"),b.target!=c.header&&b.target!=c.footer||"0px"!=b.target.style[f[b.propertyName]]?this.setAttribute("content-maximized",null):this.removeAttribute("content-maximized")},"tap:delegate(section)":function(b){var e=b.currentTarget;if(e.taphide&&this.parentNode==e){var f=a(e);e.hasAttribute("content-maximizing")||e.hasAttribute("content-maximized")?e.maxcontent||d(e,f):c(e,f)}},"mouseover:delegate(section)":function(b){var d=b.currentTarget;!d.hoverhide||this.parentNode!=d||d.hasAttribute("content-maximized")||d.hasAttribute("content-maximizing")||b.relatedTarget&&!this.contains(b.target)||c(d,a(d))},"mouseout:delegate(section)":function(b){var c=b.currentTarget;!c.hoverhide||this.parentNode!=c||!c.hasAttribute("content-maximized")&&!c.hasAttribute("content-maximizing")||c!=b.relatedTarget&&c.contains(b.relatedTarget)||d(c,a(c))}},accessors:{scrollTarget:{attribute:{name:"scroll-target"}},scrollBuffer:{attribute:{name:"scroll-buffer"},get:function(){return Number(this.getAttribute("scroll-buffer"))||30}},taphide:{attribute:{"boolean":!0}},hoverhide:{attribute:{"boolean":!0}},scrollhide:{attribute:{"boolean":!0}},maxcontent:{attribute:{"boolean":!0},set:function(b){var e=a(this);b?c(this,e):this.hasAttribute("content-maximizing")||d(this,e)}}}})}(),!function(){function a(a){var b=xtag.query(a,"x-slides > x-slide[selected]")[0]||0;return[b?xtag.query(a,"x-slides > x-slide").indexOf(b):b,a.firstElementChild.children.length-1]}function b(a,b){var c=xtag.toArray(a.firstElementChild.children);c.forEach(function(a){a.removeAttribute("selected")}),c[b||0].setAttribute("selected",null),a.firstElementChild.style[d]="translate"+(a.getAttribute("orientation")||"x")+"("+(b||0)*(-100/c.length)+"%)"}function c(a){var c=this.firstElementChild;if(c&&c.children.length&&"x-slides"==c.tagName.toLowerCase()){var e=xtag.toArray(c.children),f=100/(e.length||1),g=this.getAttribute("orientation")||"x",h="x"==g?["width","height"]:["height","width"];if(c.style[h[1]]="100%",c.style[h[0]]=100*e.length+"%",c.style[d]="translate"+g+"(0%)",e.forEach(function(a){a.style[h[0]]=f+"%",a.style[h[1]]="100%"}),a){var i=c.querySelector("[selected]");i&&b(this,e.indexOf(i)||0)}}}var d=xtag.prefix.js+"Transform";xtag.register("x-slidebox",{lifecycle:{created:function(){c()}},events:{transitionend:function(a){a.target==this.firstElementChild&&xtag.fireEvent(this,"slideend")},"show:delegate(x-slide)":function(a){var b=a.target;if(console.log(b.parentNode.nodeName),"x-slides"===b.parentNode.nodeName.toLowerCase()&&"x-slidebox"===b.parentNode.parentNode.nodeName.toLowerCase()){var c=b.parentNode,d=c.parentNode,e=xtag.query(c,"x-slide");d.slideTo(e.indexOf(b))}}},accessors:{orientation:{get:function(){return this.getAttribute("orientation")},set:function(a){this.setAttribute("orientation",a.toLowerCase()),c.call(this,!0)}}},methods:{slideTo:function(a){b(this,a)},slideNext:function(){var c=a(this);c[0]++,b(this,c[0]>c[1]?0:c[0])},slidePrevious:function(){var c=a(this);c[0]--,b(this,c[0]<0?c[1]:c[0])}}}),xtag.register("x-slide",{lifecycle:{inserted:function(){var a=this.parentNode.parentNode;"x-slidebox"==a.tagName.toLowerCase()&&c.call(a,!0)},created:function(){if(this.parentNode){var a=this.parentNode.parentNode;"x-slidebox"==a.tagName.toLowerCase()&&c.call(a,!0)}}}})}(),!function(){function a(a){return!isNaN(parseFloat(a))}function b(b,c){return b.hasAttribute(c)&&a(b.getAttribute(c))}function c(b,c,d,e){if(e=e?e:Math.round,d=a(d)?d:0,!a(b))throw"invalid value "+b;if(!a(c)||0>=+c)throw"invalid step "+c;return e((b-d)/c)*c+d}function d(a,b,d,e){return b>a?b:a>d?Math.max(b,c(d,e,b,Math.floor)):a}function e(a,b,e){var f=c((b-a)/2+a,e,a);return d(f,a,b,e)}function f(a,b){var c=a.min,d=a.max;return(b-c)/(d-c)}function g(a,b){var c=a.min,d=a.max;return(d-c)*b+c}function h(a,b){b=Math.min(Math.max(0,b),1);var e=g(a,b),f=c(e,a.step,a.min);return d(f,a.min,a.max,a.step)}function i(a,b){var c=a.xtag.polyFillSliderThumb;if(c){var d=a.getBoundingClientRect(),e=c.getBoundingClientRect(),g=f(a,b),h=Math.max(d.width-e.width,0),i=h*g,j=i/d.width;c.style.left=100*j+"%"}}function j(a){i(a,a.value)}function k(a,b){var c=a.xtag.rangeInputEl,d=c.getBoundingClientRect(),e=b-d.left,f=a.value,g=h(a,e/d.width);a.value=g,xtag.fireEvent(c,"input"),f!==a.value&&xtag.fireEvent(c,"change"),j(a)}function l(a,b,c){k(a,b,c);var d=a.xtag.callbackFns;document.body.addEventListener("mousemove",d.onMouseDragMove),document.body.addEventListener("touchmove",d.onTouchDragMove),document.body.addEventListener("mouseup",d.onDragEnd),document.body.addEventListener("touchend",d.onDragEnd);var e=a.xtag.polyFillSliderThumb;e&&e.setAttribute("active",!0)}function m(a,b,c){k(a,b,c)}function n(a){return{onMouseDragStart:function(b){b.button===p&&(l(a,b.pageX,b.pageY),b.preventDefault())},onTouchDragStart:function(b){var c=b.targetTouches;1===c.length&&(l(a,c[0].pageX,c[0].pageY),b.preventDefault())},onMouseDragMove:function(b){m(a,b.pageX,b.pageY),b.preventDefault()},onTouchDragMove:function(b){var c=b.targetTouches;1===c.length&&(m(a,c[0].pageX,c[0].pageY),b.preventDefault())},onDragEnd:function(b){var c=a.xtag.callbackFns;document.body.removeEventListener("mousemove",c.onMouseDragMove),document.body.removeEventListener("touchmove",c.onTouchDragMove),document.body.removeEventListener("mouseup",c.onDragEnd),document.body.removeEventListener("touchend",c.onDragEnd);var d=a.xtag.polyFillSliderThumb;d&&d.removeAttribute("active"),b.preventDefault()},onKeyDown:function(a){var b=a.key||a.keyCode;if(b in o){var c=this.value,d=this.min,e=this.max,f=this.step,g=Math.max(0,e-d),h=Math.max(g/10,f);switch(o[b]){case"LEFT_ARROW":case"DOWN_ARROW":this.value=Math.max(c-f,d);break;case"RIGHT_ARROW":case"UP_ARROW":this.value=Math.min(c+f,e);break;case"HOME":this.value=d;break;case"END":this.value=e;break;case"PAGE_DOWN":this.value=Math.max(c-h,d);break;case"PAGE_UP":this.value=Math.min(c+h,e)}this.value!==c&&xtag.fireEvent(this,"change"),a.preventDefault()}}}}var o={33:"PAGE_UP",34:"PAGE_DOWN",35:"END",36:"HOME",37:"LEFT_ARROW",38:"UP_ARROW",39:"RIGHT_ARROW",40:"DOWN_ARROW"},p=0;xtag.register("x-slider",{lifecycle:{created:function(){this.xtag.callbackFns=n(this);var a=document.createElement("input");xtag.addClass(a,"input"),a.setAttribute("type","range");var c=b(this,"max")?+this.getAttribute("max"):100,d=b(this,"min")?+this.getAttribute("min"):0,f=b(this,"step")?+this.getAttribute("step"):1;f=f>0?f:1;var g=b(this,"value")?+this.getAttribute("value"):e(d,c,f);a.setAttribute("max",c),a.setAttribute("min",d),a.setAttribute("step",f),a.setAttribute("value",g),this.xtag.rangeInputEl=a,this.appendChild(this.xtag.rangeInputEl),this.xtag.polyFillSliderThumb=null,"range"!==a.type||this.hasAttribute("polyfill")?this.setAttribute("polyfill",!0):this.removeAttribute("polyfill"),j(this)},attributeChanged:function(){j(this)}},events:{"change:delegate(input[type=range])":function(){},"input:delegate(input[type=range])":function(){},"focus:delegate(input[type=range])":function(a){var b=a.currentTarget;xtag.fireEvent(b,"focus",{},{bubbles:!1})},"blur:delegate(input[type=range])":function(a){var b=a.currentTarget;xtag.fireEvent(b,"blur",{},{bubbles:!1})}},accessors:{polyfill:{attribute:{"boolean":!0},set:function(a){var b=this.xtag.callbackFns;if(a){if(this.setAttribute("tabindex",0),this.xtag.rangeInputEl.setAttribute("tabindex",-1),this.xtag.rangeInputEl.setAttribute("readonly",!0),!this.xtag.polyFillSliderThumb){var c=document.createElement("span");xtag.addClass(c,"slider-thumb"),this.xtag.polyFillSliderThumb=c,this.appendChild(c)}j(this),this.addEventListener("mousedown",b.onMouseDragStart),this.addEventListener("touchstart",b.onTouchDragStart),this.addEventListener("keydown",b.onKeyDown)}else this.removeAttribute("tabindex"),this.xtag.rangeInputEl.removeAttribute("tabindex"),this.xtag.rangeInputEl.removeAttribute("readonly"),this.removeEventListener("mousedown",b.onMouseDragStart),this.removeEventListener("touchstart",b.onTouchDragStart),this.removeEventListener("keydown",b.onKeyDown)}},max:{attribute:{selector:"input[type=range]"},get:function(){return+this.xtag.rangeInputEl.getAttribute("max")}},min:{attribute:{selector:"input[type=range]"},get:function(){return+this.xtag.rangeInputEl.getAttribute("min")}},step:{attribute:{selector:"input[type=range]"},get:function(){return+this.xtag.rangeInputEl.getAttribute("step")}},name:{attribute:{selector:"input[type=range]"},set:function(a){var b=this.xtag.rangeInputEl;null===a||void 0===a?b.removeAttribute("name"):b.setAttribute("name",a)}},value:{attribute:{selector:"input[type=range]"},get:function(){return+this.xtag.rangeInputEl.value},set:function(b){a(b)||(b=e(this.min,this.max,this.step)),b=+b;var f=this.min,g=this.max,h=this.step,i=c(b,h,f),k=d(i,f,g,h);this.xtag.rangeInputEl.value=k,j(this)}},inputElem:{get:function(){return this.xtag.rangeInputEl}}},methods:{}})}(),!function(){function a(b){if(b.getBoundingClientRect){var c=document.documentElement.scrollLeft||document.body.scrollLeft||0;return b.getBoundingClientRect().left+c}return b.offsetParent?a(b.offsetParent)+b.offsetLeft:b.offsetLeft}function b(a){if(a.getBoundingClientRect){var c=document.documentElement.scrollTop||document.body.scrollTop||0;return a.getBoundingClientRect().top+c}return a.offsetParent?b(a.offsetParent)+a.offsetTop:a.offsetTop}function c(c){var d={top:b(c),left:a(c),width:c.offsetWidth,height:c.offsetHeight};return d.right=d.left+d.width,d.bottom=d.top+d.height,d}function d(a,b,c){return c.left<=a&&a<=c.right&&c.top<=b&&b<=c.bottom}function e(a){if("x-tabbar"===a.parentNode.nodeName.toLowerCase())for(var b=a.targetEvent,c=a.targetElems,d=0;d<c.length;d++){var e=c[d];xtag.fireEvent(e,b)}}xtag.register("x-tabbar",{lifecycle:{created:function(){this.xtag.overallEventToFire="show"}},events:{"tap:delegate(x-tabbar-tab)":function(){var a=xtag.query(this.parentNode,"x-tabbar-tab[selected]");a.length&&a.forEach(function(a){a.removeAttribute("selected")}),this.setAttribute("selected",!0)}},accessors:{tabs:{get:function(){return xtag.queryChildren(this,"x-tabbar-tab")}},targetEvent:{attribute:{name:"target-event"},get:function(){return this.xtag.overallEventToFire},set:function(a){this.xtag.overallEventToFire=a}}},methods:{}}),xtag.register("x-tabbar-tab",{lifecycle:{created:function(){this.xtag.targetSelector=null,this.xtag.overrideTargetElems=null,this.xtag.targetEvent=null}},events:{tap:function(a){var b=a.currentTarget;if(a.changedTouches){if(!a.changedTouches.length)return;var f=a.changedTouches[0],g=c(b);d(f.pageX,f.pageY,g)&&e(b)}else e(b)}},accessors:{targetSelector:{attribute:{name:"target-selector"},get:function(){return this.xtag.targetSelector},set:function(a){this.xtag.targetSelector=a,a&&(this.xtag.overrideTargetElems=null)}},targetElems:{get:function(){return this.targetSelector?xtag.query(document,this.targetSelector):null!==this.xtag.overrideTargetElems?this.xtag.overrideTargetElems:[]},set:function(a){this.removeAttribute("target-selector"),this.xtag.overrideTargetElems=a}},targetEvent:{attribute:{name:"target-event"},get:function(){if(this.xtag.targetEvent)return this.xtag.targetEvent;if("x-tabbar"===this.parentNode.nodeName.toLowerCase())return this.parentNode.targetEvent;throw"tabbar-tab is missing event to fire"},set:function(a){this.xtag.targetEvent=a}}},methods:{}})}(),!function(){function a(a){var b=a.xtag.inputEl.form;b?a.removeAttribute("x-toggle-no-form"):a.setAttribute("x-toggle-no-form",""),a.xtag.scope=a.parentNode?b||document:null}function b(a){var b={},c=a==document?"[x-toggle-no-form]":"";xtag.query(a,"x-toggle[name]"+c).forEach(function(d){var e=d.name;if(e&&!b[e]){var f=xtag.query(a,'x-toggle[name="'+e+'"]'+c),g=f.length>1?"radio":"checkbox";console.log("name",e,"type",g),f.forEach(function(a){a.xtag&&a.xtag.inputEl&&(a.type=g)}),b[e]=!0}})}var c=!1;xtag.addEvents(document,{DOMComponentsLoaded:function(){b(document),xtag.toArray(document.forms).forEach(b)},WebComponentsReady:function(){b(document),xtag.toArray(document.forms).forEach(b)},keydown:function(a){c=a.shiftKey},keyup:function(a){c=a.shiftKey},"focus:delegate(x-toggle)":function(){this.setAttribute("focus","")},"blur:delegate(x-toggle)":function(){this.removeAttribute("focus")},"tap:delegate(x-toggle)":function(){if(c&&this.group){var a=this.groupToggles,b=this.xtag.scope.querySelector('x-toggle[group="'+this.group+'"][active]');if(b&&this!=b){var d=this,e=b.checked,f=a.indexOf(this),g=a.indexOf(b),h=Math.min(f,g),i=Math.max(f,g);a.slice(h,i).forEach(function(a){a!=d&&(a.checked=e)})}}},"change:delegate(x-toggle)":function(){var a=this.xtag.scope.querySelector('x-toggle[group="'+this.group+'"][active]');this.checked=c&&a&&this!=a?a.checked:this.xtag.inputEl.checked,this.group&&(this.groupToggles.forEach(function(a){a.active=!1}),this.active=!0)}}),xtag.register("x-toggle",{lifecycle:{created:function(){this.innerHTML='<label class="x-toggle-input-wrap"><input type="checkbox"></input></label><div class="x-toggle-check"></div><div class="x-toggle-content"></div>',this.xtag.inputWrapEl=this.querySelector(".x-toggle-input-wrap"),this.xtag.inputEl=this.xtag.inputWrapEl.querySelector("input"),this.xtag.contentWrapEl=this.querySelector(".x-toggle-content-wrap"),this.xtag.checkEl=this.querySelector(".x-toggle-check"),this.xtag.contentEl=this.querySelector(".x-toggle-content"),this.type="checkbox",a(this);var b=this.getAttribute("name");b&&(this.xtag.inputEl.name=this.getAttribute("name")),this.hasAttribute("checked")&&(this.checked=!0)},inserted:function(){a(this),this.parentNode&&"x-togglegroup"===this.parentNode.nodeName.toLowerCase()&&(this.parentNode.hasAttribute("name")&&(this.name=this.parentNode.getAttribute("name")),this.parentNode.hasAttribute("group")&&(this.group=this.parentNode.getAttribute("group")),this.setAttribute("no-box",!0)),this.name&&b(this.xtag.scope)},removed:function(){b(this.xtag.scope),a(this)}},accessors:{noBox:{attribute:{name:"no-box","boolean":!0},set:function(){}},type:{attribute:{},set:function(a){this.xtag.inputEl.type=a}},label:{attribute:{},get:function(){return this.xtag.contentEl.innerHTML},set:function(a){this.xtag.contentEl.innerHTML=a}},active:{attribute:{"boolean":!0}},group:{attribute:{}},groupToggles:{get:function(){return xtag.query(this.xtag.scope,'x-toggle[group="'+this.group+'"]')}},name:{attribute:{skip:!0},get:function(){return this.getAttribute("name")},set:function(a){null===a?(this.removeAttribute("name"),this.type="checkbox"):this.setAttribute("name",a),this.xtag.inputEl.name=a,b(this.xtag.scope)}},checked:{get:function(){return this.xtag.inputEl.checked},set:function(a){var b=this.name,c="true"===a||a===!0;if(b){var d=this.xtag.scope==document?"[x-toggle-no-form]":"",e='x-toggle[checked][name="'+b+'"]'+d,f=this.xtag.scope.querySelector(e);f&&f.removeAttribute("checked")}this.xtag.inputEl.checked=c,c?this.setAttribute("checked",""):this.removeAttribute("checked")}}}})}(),!function(){xtag.register("x-togglegroup",{lifecycle:{created:function(){this.options.forEach(function(a){this.name&&(a.name=this.name),this.group&&(a.group=this.group),a.noBox=!0}.bind(this)),console.log(this.options)}},events:{},accessors:{name:{attribute:{selector:"x-toggle"},set:function(a){this.options.forEach(function(b){b.name=a})}},group:{attribute:{selector:"x-toggle"},set:function(a){this.options.forEach(function(b){b.group=a})}},options:{get:function(){return xtag.queryChildren(this,"x-toggle")}}},methods:{}})}(),!function(){function a(a){return a in y}function b(a){if(a.getBoundingClientRect){var c=document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.getBoundingClientRect().left+c}return a.offsetParent?b(a.offsetParent)+a.offsetLeft:a.offsetLeft}function c(a){if(a.getBoundingClientRect){var b=document.documentElement.scrollTop||document.body.scrollTop||0;return a.getBoundingClientRect().top+b}return a.offsetParent?c(a.offsetParent)+a.offsetTop:a.offsetTop}function d(a){var d={top:c(a),left:b(a),width:a.offsetWidth,height:a.offsetHeight};return d.right=d.left+d.width,d.bottom=d.top+d.height,d}function e(a,b,c){this.eventType=b,this.listenerFn=c,this.elem=a,this._attachedFn=null}function f(a){this._cachedListener=null,this._tooltips=[];var b=this,c=function(a){b._tooltips.forEach(function(b){b.hasAttribute("visible")&&!b.hasAttribute("ignore-outer-trigger")&&(l(a.target,b)||t(b))})};this._cachedListener=new e(document,a,c),this._cachedListener.attachListener()}function g(){this.eventStructDict={}}function h(a,b,c){var d=function(b){c&&l(b.target,a.previousElementSibling)&&c.call(a.previousElementSibling,b)};return new e(document.documentElement,b,d)}function i(a,b,c){var d=b+":delegate(x-tooltip+*)",f=function(b){c&&this===a.nextElementSibling&&c.call(this,b)};return new e(document.documentElement,d,f)}function j(a,b,c,d){if("_previousSibling"===b)return h(a,c,d);if("_nextSibling"===b)return i(a,c,d);var f=c+":delegate("+b+")";return new e(document.documentElement,f,function(b){var c=this;l(c,a)||d.call(c,b)})}function k(a,b,c){var d=[],e=function(){var b=this;a.hasAttribute("visible")&&b===a.xtag.lastTargetElem?t(a):s(a,b)},f=j(a,b,c,e);return d.push(f),d}function l(a,b){if(b.contains)return b.contains(a);for(;a;){if(a===b)return!0;a=a.parentNode}return!1}function m(a){return function(b){var c=this,d=b.relatedTarget||b.toElement;d?l(d,c)||a.call(this,b):a.call(this,b)}}function n(a,b){var c=[];c="_previousSibling"===b?a.previousElementSibling?[a.previousElementSibling]:[]:"_nextSibling"===b?a.nextElementSibling?[a.nextElementSibling]:[]:xtag.query(document,b);for(var d=0;d<c.length;){var e=c[d];l(e,a)?c.splice(d,1):d++}return c}function o(a,b){var c=function(a,b,c){return c.left<=a&&a<=c.right&&c.top<=b&&b<=c.bottom},e=d(a),f=d(b),g={left:e.left,top:e.top,right:e.left+a.offsetWidth,bottom:e.top+a.offsetHeight},h={left:f.left,top:f.top,right:f.left+b.offsetWidth,bottom:f.top+b.offsetHeight},i=function(a,b){return c(a.left,a.top,b)||c(a.right,a.top,b)||c(a.right,a.bottom,b)||c(a.left,a.bottom,b)},j=function(a,b){return a.top<=b.top&&b.bottom<=a.bottom&&b.left<=a.left&&a.right<=b.right};return i(g,h)||i(h,g)||j(g,h)||j(h,g)}function p(a,b,c){var d=c*(Math.PI/180),e=a*Math.sin(d)+b*Math.cos(d),f=a*Math.cos(d)+b*Math.sin(d);return{height:e,width:f}}function q(a,b,c){var d=a;return d=void 0!==b?Math.max(b,d):d,d=void 0!==c?Math.min(c,d):d}function r(b,c,e,f){if(!b.parentNode)return b.left="",b.top="",void 0;f=void 0===f?0:f;var g=b.xtag.arrowEl;if(!a(e)){for(var h in y)if(g.setAttribute("arrow-direction",y[h]),r(b,c,h),!o(b,c))return b.setAttribute("auto-orientation",h),void 0;return b.setAttribute("auto-orientation",h),void 0}var i=b.offsetParent?b.offsetParent:b.parentNode;f||(b.style.top="",b.style.left="",g.style.top="",g.style.left="");var j=d(c),k=d(i),m={top:j.top-k.top,left:j.left-k.left};i!==document.body&&l(i,document.body)&&(m.top+=i.scrollTop,m.left+=i.scrollLeft);var n,s,t,u,v=i.scrollWidth,w=i.scrollHeight,x=c.offsetWidth,z=c.offsetHeight,A=b.offsetWidth,B=b.offsetHeight,C=45,D=p(g.offsetWidth,g.offsetHeight,C),E=D.width,F=D.height,G={left:m.left+(x-A)/2,top:m.top+(z-B)/2},H=function(a,b){return{left:(x-E)/2+m.left-b,top:(z-F)/2+m.top-n}};if("top"===e)F/=2,n=m.top-B-F,s=G.left,t=w-B-F,u=v-A;else if("bottom"===e)F/=2,n=m.top+z+F,s=G.left,t=w-B,u=v-A;else if("left"===e)E/=2,n=G.top,s=m.left-A-E,t=w-B,u=v-A-E;else{if("right"!==e)throw"invalid orientation "+e;E/=2,n=G.top,s=m.left+x+E,t=w-B,u=v-A}n=q(n,0,t),s=q(s,0,u),b.style.top=n+"px",b.style.left=s+"px";var I=H(n,s);"top"===e||"bottom"===e?g.style.left=q(I.left,0,A-E)+"px":g.style.top=q(I.top,0,B-F)+"px";var J=1;J>f&&(A!==b.offsetWidth||B!==b.offsetHeight)&&r(b,c,e,f+1)}function s(a,b){b===a&&console.log("The tooltip's target element is the tooltip itself! Is this intentional?");var c=a.xtag.arrowEl,d=a.orientation,e=function(){a.setAttribute("visible",!0),xtag.fireEvent(a,"tooltipshown",{triggerElem:b})};b?xtag.skipTransition(a,function(){return r(a,b,d),a.xtag.lastTargetElem=b,e},this):(a.style.top="",a.style.left="",c.style.top="",c.style.left="",e())}function t(b){a(b.orientation)&&b.removeAttribute("auto-orientation"),b.hasAttribute("visible")&&(b.removeAttribute("visible"),xtag.fireEvent(b,"tooltiphidden"))}function u(a){var b=a.xtag.cachedListeners;b.forEach(function(a){a.removeListener()}),a.xtag.cachedListeners=[],w.unregisterTooltip(a.triggerStyle,a)}function v(a,b,c){if(a.parentNode){(void 0===b||null===b)&&(b=a.targetSelector),(void 0===c||null===c)&&(c=a.triggerStyle);var d=n(a,b);-1===d.indexOf(a.xtag.lastTargetElem)&&(a.xtag.lastTargetElem=d.length>0?d[0]:null,r(a,a.xtag.lastTargetElem,a.orientation)),u(a);var e;if(c in x){var f=x[c];e=f(a,b)}else e=k(a,b,c),w.registerTooltip(c,a);e.forEach(function(a){a.attachListener()}),a.xtag.cachedListeners=e,t(a)}}var w,x,y={top:"down",bottom:"up",left:"right",right:"left"};e.prototype.attachListener=function(){this._attachedFn||(this._attachedFn=xtag.addEvent(this.elem,this.eventType,this.listenerFn))},e.prototype.removeListener=function(){this._attachedFn&&(xtag.removeEvent(this.elem,this.eventType,this._attachedFn),this._attachedFn=null)},f.prototype.destroy=function(){this._cachedListener.removeListener(),this._cachedListener=null,this._tooltips=null},f.prototype.containsTooltip=function(a){return-1!==this._tooltips.indexOf(a)},f.prototype.addTooltip=function(a){this.containsTooltip(a)||this._tooltips.push(a)},f.prototype.removeTooltip=function(a){this.containsTooltip(a)&&this._tooltips.splice(this._tooltips.indexOf(a),1)},Object.defineProperties(f.prototype,{numTooltips:{get:function(){return this._tooltips.length}}}),g.prototype.registerTooltip=function(a,b){if(a in this.eventStructDict){var c=this.eventStructDict[a];c.containsTooltip(b)||c.addTooltip(b)}else this.eventStructDict[a]=new f(a),this.eventStructDict[a].addTooltip(b)},g.prototype.unregisterTooltip=function(a,b){if(a in this.eventStructDict&&this.eventStructDict[a].containsTooltip(b)){var c=this.eventStructDict[a];c.removeTooltip(b),0===c.numTooltips&&(c.destroy(),delete this.eventStructDict[a])}},w=new g,x={none:function(){return[]},hover:function(a,b){var c=[],d=null,f=200,g=function(){d&&window.clearTimeout(d),d=null},h=m(function(b){g();var c=this,d=b.relatedTarget||b.toElement;l(d,a)||s(a,c)}),i=m(function(b){g();var c=b.relatedTarget||b.toElement;l(c,a)||(d=window.setTimeout(function(){"hover"===a.triggerStyle&&t(a)},f))}),k=j(a,b,"tapenter",h),n=j(a,b,"tapleave",i);c.push(k),c.push(n);var o=m(function(b){g();var c=b.relatedTarget||b.toElement,d=a.xtag.lastTargetElem;a.hasAttribute("visible")||!d||l(c,d)||s(a,d)}),p=m(function(b){g();var c=b.relatedTarget||b.toElement,e=a.xtag.lastTargetElem;e&&!l(c,e)&&(d=window.setTimeout(function(){"hover"===a.triggerStyle&&t(a)},f))});return c.push(new e(a,"tapenter",o)),c.push(new e(a,"tapleave",p)),c}},xtag.register("x-tooltip",{lifecycle:{created:function(){this.xtag.contentEl=document.createElement("div"),this.xtag.arrowEl=document.createElement("span"),xtag.addClass(this.xtag.contentEl,"tooltip-content"),xtag.addClass(this.xtag.arrowEl,"tooltip-arrow"),this.xtag.contentEl.innerHTML=this.innerHTML,this.innerHTML="",this.appendChild(this.xtag.contentEl),this.appendChild(this.xtag.arrowEl),this.xtag._orientation="auto",this.xtag._targetSelector="_previousSibling",this.xtag._triggerStyle="hover";var a=n(this,this.xtag._targetSelector);this.xtag.lastTargetElem=a.length>0?a[0]:null,this.xtag.cachedListeners=[]},inserted:function(){v(this,this.xtag._targetSelector,this.xtag._triggerStyle)},removed:function(){u(this)}},events:{},accessors:{orientation:{attribute:{},get:function(){return this.xtag._orientation},set:function(b){b=b.toLowerCase();var c=this.querySelector(".tooltip-arrow"),d=null;a(b)?(d=y[b],c.setAttribute("arrow-direction",d),this.removeAttribute("auto-orientation")):c.removeAttribute("arrow-direction"),this.xtag._orientation=b,this.refreshPosition()}},triggerStyle:{attribute:{name:"trigger-style"},get:function(){return this.xtag._triggerStyle},set:function(a){v(this,this.targetSelector,a),this.xtag._triggerStyle=a}},targetSelector:{attribute:{name:"target-selector"},get:function(){return this.xtag._targetSelector},set:function(a){n(this,a),v(this,a,this.triggerStyle),this.xtag._targetSelector=a}},ignoreOuterTrigger:{attribute:{"boolean":!0,name:"ignore-outer-trigger"}},ignoreTooltipPointerEvents:{attribute:{"boolean":!0,name:"ignore-tooltip-pointer-events"}},contentEl:{get:function(){return this.xtag.contentEl},set:function(a){var b=this.xtag.contentEl;xtag.addClass(a,"tooltip-content"),this.replaceChild(a,b),this.xtag.contentEl=a,this.refreshPosition()}},presetTriggerStyles:{get:function(){var a=[];for(var b in x)a.push(b);return a}},targetElems:{get:function(){return n(this,this.targetSelector)}}},methods:{refreshPosition:function(){this.xtag.lastTargetElem&&r(this,this.xtag.lastTargetElem,this.orientation)},show:function(){s(this,this.xtag.lastTargetElem)},hide:function(){t(this)},toggle:function(){this.hasAttribute("visible")?this.hide():this.show()}}})}()