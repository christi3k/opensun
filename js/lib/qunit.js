(function(a){function b(a){m(this,a),this.assertions=[],this.testNumber=++b.count}function c(){u.autorun=!0,u.currentModule&&q("moduleDone",t,{name:u.currentModule,failed:u.moduleStats.bad,passed:u.moduleStats.all-u.moduleStats.bad,total:u.moduleStats.all});var b,c,d=o("qunit-banner"),e=o("qunit-tests"),f=+(new A)-u.started,g=u.stats.all-u.stats.bad,h=["Tests completed in ",f," milliseconds.<br/>","<span class='passed'>",g,"</span> tests of <span class='total'>",u.stats.all,"</span> passed, <span class='failed'>",u.stats.bad,"</span> failed."].join("");d&&(d.className=u.stats.bad?"qunit-fail":"qunit-pass"),e&&(o("qunit-testresult").innerHTML=h),u.altertitle&&typeof document!="undefined"&&document.title&&(document.title=[u.stats.bad?"✖":"✔",document.title.replace(/^[\u2714\u2716] /i,"")].join(" "));if(u.reorder&&B.sessionStorage&&u.stats.bad===0)for(b=0;b<sessionStorage.length;b++)c=sessionStorage.key(b++),c.indexOf("qunit-test-")===0&&sessionStorage.removeItem(c);a.scrollTo&&a.scrollTo(0,0),q("done",t,{failed:u.stats.bad,passed:g,total:u.stats.all,runtime:f})}function d(a){var b,c=u.filter&&u.filter.toLowerCase(),e=u.module&&u.module.toLowerCase(),f=(a.module+": "+a.testName).toLowerCase();return a.callback&&a.callback.validTest===d?(delete a.callback.validTest,!0):u.testNumber?a.testNumber===u.testNumber:e&&(!a.module||a.module.toLowerCase()!==e)?!1:c?(b=c.charAt(0)!=="!",b||(c=c.slice(1)),f.indexOf(c)!==-1?b:!b):!0}function e(a,b){b=b===undefined?3:b;var c,d,e,f;if(a.stacktrace)return a.stacktrace.split("\n")[b+3];if(a.stack){c=a.stack.split("\n"),/^error$/i.test(c[0])&&c.shift();if(x){d=[];for(e=b;e<c.length;e++){if(c[e].indexOf(x)!=-1)break;d.push(c[e])}if(d.length)return d.join("\n")}return c[b]}if(a.sourceURL){if(/qunit.js$/.test(a.sourceURL))return;return a.sourceURL+":"+a.line}}function f(a){try{throw new Error}catch(b){return e(b,a)}}function g(a){return a?(a+="",a.replace(/[\&<>]/g,function(a){switch(a){case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return a}})):""}function h(a,b){u.queue.push(a),u.autorun&&!u.blocking&&i(b)}function i(b){function d(){i(b)}var e=(new A).getTime();u.depth=u.depth?u.depth+1:1;while(u.queue.length&&!u.blocking){if(!(!B.setTimeout||u.updateRate<=0||(new A).getTime()-e<u.updateRate)){a.setTimeout(d,13);break}u.queue.shift()()}u.depth--,b&&!u.blocking&&!u.queue.length&&u.depth===0&&c()}function j(){u.pollution=[];if(u.noglobals)for(var b in a){if(!z.call(a,b)||/^qunit-test-output/.test(b))continue;u.pollution.push(b)}}function k(a){var b,c,d=u.pollution;j(),b=l(u.pollution,d),b.length>0&&t.pushFailure("Introduced global variable(s): "+b.join(", ")),c=l(d,u.pollution),c.length>0&&t.pushFailure("Deleted global variable(s): "+c.join(", "))}function l(a,b){var c,d,e=a.slice();for(c=0;c<e.length;c++)for(d=0;d<b.length;d++)if(e[c]===b[d]){e.splice(c,1),c--;break}return e}function m(b,c){for(var d in c)if(c[d]===undefined)delete b[d];else if(d!=="constructor"||b!==a)b[d]=c[d];return b}function n(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):c()}function o(a){return typeof document!="undefined"&&!!document&&!!document.getElementById&&document.getElementById(a)}function p(a){return function(b){u[a].push(b)}}function q(a,b,c){var d,e;if(t.hasOwnProperty(a))t[a].call(b,c);else{e=u[a];for(d=0;d<e.length;d++)e[d].call(b,c)}}function r(a){var b,c,d="";for(b=0;a[b];b++)c=a[b],c.nodeType===3||c.nodeType===4?d+=c.nodeValue:c.nodeType!==8&&(d+=r(c.childNodes));return d}function s(a,b){if(b.indexOf)return b.indexOf(a);for(var c=0,d=b.length;c<d;c++)if(b[c]===a)return c;return-1}var t,u,v,w=0,x=(f(0)||"").replace(/(:\d+)+\)?/,"").replace(/.+\//,""),y=Object.prototype.toString,z=Object.prototype.hasOwnProperty,A=a.Date,B={setTimeout:typeof a.setTimeout!="undefined",sessionStorage:function(){var a="qunit-test-string";try{return sessionStorage.setItem(a,a),sessionStorage.removeItem(a),!0}catch(b){return!1}}()};b.count=0,b.prototype={init:function(){var a,b,c,d=o("qunit-tests");d&&(b=document.createElement("strong"),b.innerHTML=this.name,a=document.createElement("a"),a.innerHTML="Rerun",a.href=t.url({testNumber:this.testNumber}),c=document.createElement("li"),c.appendChild(b),c.appendChild(a),c.className="running",c.id=this.id="qunit-test-output"+w++,d.appendChild(c))},setup:function(){this.module!==u.previousModule?(u.previousModule&&q("moduleDone",t,{name:u.previousModule,failed:u.moduleStats.bad,passed:u.moduleStats.all-u.moduleStats.bad,total:u.moduleStats.all}),u.previousModule=this.module,u.moduleStats={all:0,bad:0},q("moduleStart",t,{name:this.module})):u.autorun&&q("moduleStart",t,{name:this.module}),u.current=this,this.testEnvironment=m({setup:function(){},teardown:function(){}},this.moduleTestEnvironment),q("testStart",t,{name:this.testName,module:this.module}),t.current_testEnvironment=this.testEnvironment,u.pollution||j();if(u.notrycatch){this.testEnvironment.setup.call(this.testEnvironment);return}try{this.testEnvironment.setup.call(this.testEnvironment)}catch(a){t.pushFailure("Setup failed on "+this.testName+": "+a.message,e(a,1))}},run:function(){u.current=this;var a=o("qunit-testresult");a&&(a.innerHTML="Running: <br/>"+this.name),this.async&&t.stop();if(u.notrycatch){this.callback.call(this.testEnvironment,t.assert);return}try{this.callback.call(this.testEnvironment,t.assert)}catch(b){t.pushFailure("Died on test #"+(this.assertions.length+1)+" "+this.stack+": "+b.message,e(b,0)),j(),u.blocking&&t.start()}},teardown:function(){u.current=this;if(u.notrycatch){this.testEnvironment.teardown.call(this.testEnvironment);return}try{this.testEnvironment.teardown.call(this.testEnvironment)}catch(a){t.pushFailure("Teardown failed on "+this.testName+": "+a.message,e(a,1))}k()},finish:function(){u.current=this,u.requireExpects&&this.expected==null?t.pushFailure("Expected number of assertions to be defined, but expect() was not called.",this.stack):this.expected!=null&&this.expected!=this.assertions.length?t.pushFailure("Expected "+this.expected+" assertions, but "+this.assertions.length+" were run",this.stack):this.expected==null&&!this.assertions.length&&t.pushFailure("Expected at least one assertion, but none were run - call expect(0) to accept zero assertions.",this.stack);var b,c,d,e,f,g,h=this,i=0,j=0,k=o("qunit-tests");u.stats.all+=this.assertions.length,u.moduleStats.all+=this.assertions.length;if(k){g=document.createElement("ol");for(e=0;e<this.assertions.length;e++)b=this.assertions[e],f=document.createElement("li"),f.className=b.result?"pass":"fail",f.innerHTML=b.message||(b.result?"okay":"failed"),g.appendChild(f),b.result?i++:(j++,u.stats.bad++,u.moduleStats.bad++);t.config.reorder&&B.sessionStorage&&(j?sessionStorage.setItem("qunit-test-"+this.module+"-"+this.testName,j):sessionStorage.removeItem("qunit-test-"+this.module+"-"+this.testName)),j===0&&(g.style.display="none"),d=document.createElement("strong"),d.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+j+"</b>, <b class='passed'>"+i+"</b>, "+this.assertions.length+")</b>",n(d,"click",function(){var a=d.nextSibling.nextSibling,b=a.style.display;a.style.display=b==="none"?"block":"none"}),n(d,"dblclick",function(b){var c=b&&b.target?b.target:a.event.srcElement;if(c.nodeName.toLowerCase()=="span"||c.nodeName.toLowerCase()=="b")c=c.parentNode;a.location&&c.nodeName.toLowerCase()==="strong"&&(a.location=t.url({testNumber:h.testNumber}))}),f=o(this.id),f.className=j?"fail":"pass",f.removeChild(f.firstChild),c=f.firstChild,f.appendChild(d),f.appendChild(c),f.appendChild(g)}else for(e=0;e<this.assertions.length;e++)this.assertions[e].result||(j++,u.stats.bad++,u.moduleStats.bad++);q("testDone",t,{name:this.testName,module:this.module,failed:j,passed:this.assertions.length-j,total:this.assertions.length}),t.reset(),u.current=undefined},queue:function(){function a(){h(function(){c.setup()}),h(function(){c.run()}),h(function(){c.teardown()}),h(function(){c.finish()})}var b,c=this;h(function(){c.init()}),b=t.config.reorder&&B.sessionStorage&&+sessionStorage.getItem("qunit-test-"+this.module+"-"+this.testName),b?a():h(a,!0)}},t={module:function(a,b){u.currentModule=a,u.currentModuleTestEnvironment=b,u.modules[a]=!0},asyncTest:function(a,b,c){arguments.length===2&&(c=b,b=null),t.test(a,b,c,!0)},test:function(a,c,e,h){var i,j="<span class='test-name'>"+g(a)+"</span>";arguments.length===2&&(e=c,c=null),u.currentModule&&(j="<span class='module-name'>"+u.currentModule+"</span>: "+j),i=new b({name:j,testName:a,expected:c,async:h,callback:e,module:u.currentModule,moduleTestEnvironment:u.currentModuleTestEnvironment,stack:f(2)});if(!d(i))return;i.queue()},expect:function(a){if(arguments.length!==1)return u.current.expected;u.current.expected=a},start:function(b){u.semaphore-=b||1;if(u.semaphore>0)return;u.semaphore<0&&(u.semaphore=0),B.setTimeout?a.setTimeout(function(){if(u.semaphore>0)return;u.timeout&&clearTimeout(u.timeout),u.blocking=!1,i(!0)},13):(u.blocking=!1,i(!0))},stop:function(b){u.semaphore+=b||1,u.blocking=!0,u.testTimeout&&B.setTimeout&&(clearTimeout(u.timeout),u.timeout=a.setTimeout(function(){t.ok(!1,"Test timed out"),u.semaphore=1,t.start()},u.testTimeout))}},t.assert={ok:function(a,b){if(!u.current)throw new Error("ok() assertion outside test context, was "+f(2));a=!!a;var c,d={module:u.current.module,name:u.current.testName,result:a,message:b};b=g(b||(a?"okay":"failed")),b="<span class='test-message'>"+b+"</span>",a||(c=f(2),c&&(d.source=c,b+="<table><tr class='test-source'><th>Source: </th><td><pre>"+g(c)+"</pre></td></tr></table>")),q("log",t,d),u.current.assertions.push({result:a,message:b})},equal:function(a,b,c){t.push(b==a,a,b,c)},notEqual:function(a,b,c){t.push(b!=a,a,b,c)},deepEqual:function(a,b,c){t.push(t.equiv(a,b),a,b,c)},notDeepEqual:function(a,b,c){t.push(!t.equiv(a,b),a,b,c)},strictEqual:function(a,b,c){t.push(b===a,a,b,c)},notStrictEqual:function(a,b,c){t.push(b!==a,a,b,c)},"throws":function(a,b,c){var d,e=!1;typeof b=="string"&&(c=b,b=null),u.current.ignoreGlobalErrors=!0;try{a.call(u.current.testEnvironment)}catch(f){d=f}u.current.ignoreGlobalErrors=!1,d?(b?t.objectType(b)==="regexp"?e=b.test(d):d instanceof b?e=!0:b.call({},d)===!0&&(e=!0):e=!0,t.push(e,d,null,c)):t.pushFailure(c,null,"No exception was thrown.")}},m(t,t.assert),t.raises=t.assert.throws,t.equals=function(){t.push(!1,!1,!1,"QUnit.equals has been deprecated since 2009 (e88049a0), use QUnit.equal instead")},t.same=function(){t.push(!1,!1,!1,"QUnit.same has been deprecated since 2009 (e88049a0), use QUnit.deepEqual instead")},function(){function a(){}a.prototype=t,t=new a,t.constructor=a}(),u={queue:[],blocking:!0,hidepassed:!1,reorder:!0,altertitle:!0,requireExpects:!1,urlConfig:[{id:"noglobals",label:"Check for Globals",tooltip:"Enabling this will test if any test introduces new properties on the `window` object. Stored as query-strings."},{id:"notrycatch",label:"No try-catch",tooltip:"Enabling this will run tests outside of a try-catch block. Makes debugging exceptions in IE reasonable. Stored as query-strings."}],modules:{},begin:[],done:[],log:[],testStart:[],testDone:[],moduleStart:[],moduleDone:[]},function(){var b,c=a.location||{search:"",protocol:"file:"},d=c.search.slice(1).split("&"),e=d.length,f={},g;if(d[0])for(b=0;b<e;b++)g=d[b].split("="),g[0]=decodeURIComponent(g[0]),g[1]=g[1]?decodeURIComponent(g[1]):!0,f[g[0]]=g[1];t.urlParams=f,u.filter=f.filter,u.module=f.module,u.testNumber=parseInt(f.testNumber,10)||null,t.isLocal=c.protocol==="file:"}(),typeof exports=="undefined"&&(m(a,t),a.QUnit=t),m(t,{config:u,init:function(){m(u,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+(new A),updateRate:1e3,blocking:!1,autostart:!0,autorun:!1,filter:"",queue:[],semaphore:0});var a,b,c,d=o("qunit");d&&(d.innerHTML="<h1 id='qunit-header'>"+g(document.title)+"</h1>"+"<h2 id='qunit-banner'></h2>"+"<div id='qunit-testrunner-toolbar'></div>"+"<h2 id='qunit-userAgent'></h2>"+"<ol id='qunit-tests'></ol>"),a=o("qunit-tests"),b=o("qunit-banner"),c=o("qunit-testresult"),a&&(a.innerHTML=""),b&&(b.className=""),c&&c.parentNode.removeChild(c),a&&(c=document.createElement("p"),c.id="qunit-testresult",c.className="result",a.parentNode.insertBefore(c,a),c.innerHTML="Running...<br/>&nbsp;")},reset:function(){var a=o("qunit-fixture");a&&(a.innerHTML=u.fixture)},triggerEvent:function(a,b,c){document.createEvent?(c=document.createEvent("MouseEvents"),c.initMouseEvent(b,!0,!0,a.ownerDocument.defaultView,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(c)):a.fireEvent&&a.fireEvent("on"+b)},is:function(a,b){return t.objectType(b)==a},objectType:function(a){if(typeof a=="undefined")return"undefined";if(a===null)return"null";var b=y.call(a).match(/^\[object\s(.*)\]$/)[1]||"";switch(b){case"Number":if(isNaN(a))return"nan";return"number";case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return b.toLowerCase()}return typeof a=="object"?"object":undefined},push:function(a,b,c,d){if(!u.current)throw new Error("assertion outside test context, was "+f());var e,h,i={module:u.current.module,name:u.current.testName,result:a,message:d,actual:b,expected:c};d=g(d)||(a?"okay":"failed"),d="<span class='test-message'>"+d+"</span>",e=d,a||(c=g(t.jsDump.parse(c)),b=g(t.jsDump.parse(b)),e+="<table><tr class='test-expected'><th>Expected: </th><td><pre>"+c+"</pre></td></tr>",b!=c&&(e+="<tr class='test-actual'><th>Result: </th><td><pre>"+b+"</pre></td></tr>",e+="<tr class='test-diff'><th>Diff: </th><td><pre>"+t.diff(c,b)+"</pre></td></tr>"),h=f(),h&&(i.source=h,e+="<tr class='test-source'><th>Source: </th><td><pre>"+g(h)+"</pre></td></tr>"),e+="</table>"),q("log",t,i),u.current.assertions.push({result:!!a,message:e})},pushFailure:function(a,b,c){if(!u.current)throw new Error("pushFailure() assertion outside test context, was "+f(2));var d,e={module:u.current.module,name:u.current.testName,result:!1,message:a};a=g(a)||"error",a="<span class='test-message'>"+a+"</span>",d=a,d+="<table>",c&&(d+="<tr class='test-actual'><th>Result: </th><td><pre>"+g(c)+"</pre></td></tr>"),b&&(e.source=b,d+="<tr class='test-source'><th>Source: </th><td><pre>"+g(b)+"</pre></td></tr>"),d+="</table>",q("log",t,e),u.current.assertions.push({result:!1,message:d})},url:function(b){b=m(m({},t.urlParams),b);var c,d="?";for(c in b){if(!z.call(b,c))continue;d+=encodeURIComponent(c)+"="+encodeURIComponent(b[c])+"&"}return a.location.pathname+d.slice(0,-1)},extend:m,id:o,addEvent:n}),m(t.constructor.prototype,{begin:p("begin"),done:p("done"),log:p("log"),testStart:p("testStart"),testDone:p("testDone"),moduleStart:p("moduleStart"),moduleDone:p("moduleDone")});if(typeof document=="undefined"||document.readyState==="complete")u.autorun=!0;t.load=function(){q("begin",t,{});var b,c,d,e,f,g,h,i,j,k,l,p,r=0,s="",v="",w=m({},u);t.init(),m(u,w),u.blocking=!1,f=u.urlConfig.length;for(d=0;d<f;d++)k=u.urlConfig[d],typeof k=="string"&&(k={id:k,label:k,tooltip:"[no tooltip available]"}),u[k.id]=t.urlParams[k.id],v+="<input id='qunit-urlconfig-"+k.id+"' name='"+k.id+"' type='checkbox'"+(u[k.id]?" checked='checked'":"")+" title='"+k.tooltip+"'><label for='qunit-urlconfig-"+k.id+"' title='"+k.tooltip+"'>"+k.label+"</label>";s+="<label for='qunit-modulefilter'>Module: </label><select id='qunit-modulefilter' name='modulefilter'><option value='' "+(u.module===undefined?"selected":"")+">< All Modules ></option>";for(d in u.modules)u.modules.hasOwnProperty(d)&&(r+=1,s+="<option value='"+encodeURIComponent(d)+"' "+(u.module===d?"selected":"")+">"+d+"</option>");s+="</select>",j=o("qunit-userAgent"),j&&(j.innerHTML=navigator.userAgent),b=o("qunit-header"),b&&(b.innerHTML="<a href='"+t.url({filter:undefined,module:undefined,testNumber:undefined})+"'>"+b.innerHTML+"</a> "),i=o("qunit-testrunner-toolbar");if(i){c=document.createElement("input"),c.type="checkbox",c.id="qunit-filter-pass",n(c,"click",function(){var a,b=document.getElementById("qunit-tests");c.checked?b.className=b.className+" hidepass":(a=" "+b.className.replace(/[\n\t\r]/g," ")+" ",b.className=a.replace(/ hidepass /," ")),B.sessionStorage&&(c.checked?sessionStorage.setItem("qunit-filter-passed-tests","true"):sessionStorage.removeItem("qunit-filter-passed-tests"))});if(u.hidepassed||B.sessionStorage&&sessionStorage.getItem("qunit-filter-passed-tests"))c.checked=!0,h=document.getElementById("qunit-tests"),h.className=h.className+" hidepass";i.appendChild(c),e=document.createElement("label"),e.setAttribute("for","qunit-filter-pass"),e.setAttribute("title","Only show tests and assertons that fail. Stored in sessionStorage."),e.innerHTML="Hide passed tests",i.appendChild(e),l=document.createElement("span"),l.innerHTML=v,n(l,"change",function(b){var c={};c[b.target.name]=b.target.checked?!0:undefined,a.location=t.url(c)}),i.appendChild(l),r>1&&(p=document.createElement("span"),p.setAttribute("id","qunit-modulefilter-container"),p.innerHTML=s,n(p,"change",function(){var b=p.getElementsByTagName("select")[0],c=decodeURIComponent(b.options[b.selectedIndex].value);a.location=t.url({module:c===""?undefined:c})}),i.appendChild(p))}g=o("qunit-fixture"),g&&(u.fixture=g.innerHTML),u.autostart&&t.start()},n(a,"load",t.load),v=a.onerror,a.onerror=function(a,b,c){var e=!1;v&&(e=v(a,b,c));if(e!==!0){if(t.config.current){if(t.config.current.ignoreGlobalErrors)return!0;t.pushFailure(a,b+":"+c)}else t.test("global failure",m(function(){t.pushFailure(a,b+":"+c)},{validTest:d}));return!1}return e},t.equiv=function(){function a(a,b,c){var d=t.objectType(a);if(d)return t.objectType(b[d])==="function"?b[d].apply(b,c):b[d]}var b,c=[],d=[],e=Object.getPrototypeOf||function(a){return a.__proto__},f=function(){function a(a,b){return a instanceof b.constructor||b instanceof a.constructor?b==a:b===a}return{string:a,"boolean":a,number:a,"null":a,"undefined":a,nan:function(a){return isNaN(a)},date:function(a,b){return t.objectType(a)==="date"&&b.valueOf()===a.valueOf()},regexp:function(a,b){return t.objectType(a)==="regexp"&&b.source===a.source&&b.global===a.global&&b.ignoreCase===a.ignoreCase&&b.multiline===a.multiline&&b.sticky===a.sticky},"function":function(){var a=c[c.length-1];return a!==Object&&typeof a!="undefined"},array:function(a,c){var e,f,g,h;if(t.objectType(a)!=="array")return!1;g=c.length;if(g!==a.length)return!1;d.push(c);for(e=0;e<g;e++){h=!1;for(f=0;f<d.length;f++)d[f]===c[e]&&(h=!0);if(!h&&!b(c[e],a[e]))return d.pop(),!1}return d.pop(),!0},object:function(a,f){var g,h,i,j=!0,k=[],l=[];if(f.constructor===a.constructor||e(f)===null&&e(a)===Object.prototype||e(a)===null&&e(f)===Object.prototype){c.push(f.constructor),d.push(f);for(g in f){i=!1;for(h=0;h<d.length;h++)d[h]===f[g]&&(i=!0);k.push(g);if(!i&&!b(f[g],a[g])){j=!1;break}}c.pop(),d.pop();for(g in a)l.push(g);return j&&b(k.sort(),l.sort())}return!1}}}();return b=function(){var b=[].slice.apply(arguments);return b.length<2?!0:function(b,c){return b===c?!0:b===null||c===null||typeof b=="undefined"||typeof c=="undefined"||t.objectType(b)!==t.objectType(c)?!1:a(b,f,[c,b])}(b[0],b[1])&&arguments.callee.apply(this,b.splice(1,b.length-1))},b}(),t.jsDump=function(){function a(a){return'"'+a.toString().replace(/"/g,'\\"')+'"'}function b(a){return a+""}function c(a,b,c){var d=f.separator(),e=f.indent(),g=f.indent(1);return b.join&&(b=b.join(","+d+g)),b?[a,g+b,e+c].join(d):a+c}function d(a,b){var d=a.length,e=new Array(d);this.up();while(d--)e[d]=this.parse(a[d],undefined,b);return this.down(),c("[",e,"]")}var e=/^function (\w+)/,f={parse:function(a,b,c){c=c||[];var d,e,f=this.parsers[b||this.typeOf(a)];return b=typeof f,d=s(a,c),d!=-1?"recursion("+(d-c.length)+")":b=="function"?(c.push(a),e=f.call(this,a,c),c.pop(),e):b=="string"?f:this.parsers.error},typeOf:function(a){var b;return a===null?b="null":typeof a=="undefined"?b="undefined":t.is("regexp",a)?b="regexp":t.is("date",a)?b="date":t.is("function",a)?b="function":typeof a.setInterval!==undefined&&typeof a.document!="undefined"&&typeof a.nodeType=="undefined"?b="window":a.nodeType===9?b="document":a.nodeType?b="node":y.call(a)==="[object Array]"||typeof a.length=="number"&&typeof a.item!="undefined"&&(a.length?a.item(0)===a[0]:a.item(0)===null&&typeof a[0]=="undefined")?b="array":b=typeof a,b},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(a){if(!this.multiline)return"";var b=this.indentChar;return this.HTML&&(b=b.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")),(new Array(this._depth_+(a||0))).join(b)},up:function(a){this._depth_+=a||1},down:function(a){this._depth_-=a||1},setParser:function(a,b){this.parsers[a]=b},quote:a,literal:b,join:c,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null","undefined":"undefined","function":function(a){var b="function",d="name"in a?a.name:(e.exec(a)||[])[1];return d&&(b+=" "+d),b+="( ",b=[b,t.jsDump.parse(a,"functionArgs"),"){"].join(""),c(b,t.jsDump.parse(a,"functionCode"),"}")},array:d,nodelist:d,arguments:d,object:function(a,b){var d=[],e,f,g,h;t.jsDump.up();if(Object.keys)e=Object.keys(a);else{e=[];for(f in a)e.push(f)}e.sort();for(h=0;h<e.length;h++)f=e[h],g=a[f],d.push(t.jsDump.parse(f,"key")+": "+t.jsDump.parse(g,undefined,b));return t.jsDump.down(),c("{",d,"}")},node:function(a){var b,c,d=t.jsDump.HTML?"&lt;":"<",e=t.jsDump.HTML?"&gt;":">",f=a.nodeName.toLowerCase(),g=d+f;for(b in t.jsDump.DOMAttrs)c=a[t.jsDump.DOMAttrs[b]],c&&(g+=" "+b+"="+t.jsDump.parse(c,"attribute"));return g+e+d+"/"+f+e},functionArgs:function(a){var b,c=a.length;if(!c)return"";b=new Array(c);while(c--)b[c]=String.fromCharCode(97+c);return" "+b.join(", ")+" "},key:a,functionCode:"[code]",attribute:a,string:a,date:a,regexp:b,number:b,"boolean":b},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:!1,indentChar:"  ",multiline:!0};return f}(),t.diff=function(){function a(a,b){var c,d={},e={};for(c=0;c<b.length;c++)d[b[c]]==null&&(d[b[c]]={rows:[],o:null}),d[b[c]].rows.push(c);for(c=0;c<a.length;c++)e[a[c]]==null&&(e[a[c]]={rows:[],n:null}),e[a[c]].rows.push(c);for(c in d){if(!z.call(d,c))continue;d[c].rows.length==1&&typeof e[c]!="undefined"&&e[c].rows.length==1&&(b[d[c].rows[0]]={text:b[d[c].rows[0]],row:e[c].rows[0]},a[e[c].rows[0]]={text:a[e[c].rows[0]],row:d[c].rows[0]})}for(c=0;c<b.length-1;c++)b[c].text!=null&&b[c+1].text==null&&b[c].row+1<a.length&&a[b[c].row+1].text==null&&b[c+1]==a[b[c].row+1]&&(b[c+1]={text:b[c+1],row:b[c].row+1},a[b[c].row+1]={text:a[b[c].row+1],row:c+1});for(c=b.length-1;c>0;c--)b[c].text!=null&&b[c-1].text==null&&b[c].row>0&&a[b[c].row-1].text==null&&b[c-1]==a[b[c].row-1]&&(b[c-1]={text:b[c-1],row:b[c].row-1},a[b[c].row-1]={text:a[b[c].row-1],row:c-1});return{o:a,n:b}}return function(b,c){b=b.replace(/\s+$/,""),c=c.replace(/\s+$/,"");var d,e,f="",g=a(b===""?[]:b.split(/\s+/),c===""?[]:c.split(/\s+/)),h=b.match(/\s+/g),i=c.match(/\s+/g);h==null?h=[" "]:h.push(" "),i==null?i=[" "]:i.push(" ");if(g.n.length===0)for(d=0;d<g.o.length;d++)f+="<del>"+g.o[d]+h[d]+"</del>";else{if(g.n[0].text==null)for(c=0;c<g.o.length&&g.o[c].text==null;c++)f+="<del>"+g.o[c]+h[c]+"</del>";for(d=0;d<g.n.length;d++)if(g.n[d].text==null)f+="<ins>"+g.n[d]+i[d]+"</ins>";else{e="";for(c=g.n[d].row+1;c<g.o.length&&g.o[c].text==null;c++)e+="<del>"+g.o[c]+h[c]+"</del>";f+=" "+g.n[d].text+i[d]+e}}return f}}(),typeof exports!="undefined"&&m(exports,t)})(function(){return this}.call())